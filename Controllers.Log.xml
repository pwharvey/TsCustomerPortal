<?xml version="1.0" encoding="utf-8"?><log xmlns:aquarium="urn:schemas-codeontime-com:data-aquarium" xmlns:a="urn:schemas-codeontime-com:data-aquarium" xmlns:bo="urn:schemas-codeontime-com:business-objects" xmlns="urn:schemas-codeontime-com:xml-builder"><c y="NodeSet" t="2016-05-16T16:14:58">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <update>
    <FilterExpression>CustomerID = @Session_SupplierID</FilterExpression>
  </update>
</c><c y="NodeSet" t="2016-05-16T16:32:13">
  <controller name="Customer" />
  <actionGroup id="ag1" />
  <insert type="action">
    <CommandName>SQL</CommandName>
    <HeaderText>Show Stock</HeaderText>
    <CausesValidation>true</CausesValidation>
    <Data>set @Session_CustomerID = @CustomerID
set @Result_ShowAlert = 
    'Primary key of supplier "' + @CustomerName + 
    '" has been stored in the user session. ' +
    'You will be redirected to products.'
set @Result_NavigateUrl = 'ConsignmentStock.aspx?FilterBy=Customers'</Data>
  </insert>
</c><c y="NodeSet" t="2016-05-16T16:34:33">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <update>
    <FilterExpression>@Url_FilterBy is null or 
@Url_FilterBy = 'Customer' and CustomerID = @Session_CustomerID
 </FilterExpression>
  </update>
</c><c y="NodeSet" t="2016-05-16T16:38:19">
  <controller name="Customer" />
  <actionGroup id="ag1" />
  <action id="a100" />
  <update>
    <Data>set @Session_CustomerID = @CustomerID
set @Result_ShowAlert = 
    'Primary key of supplier "' + @CustomerName + 
    '" has been stored in the user session. ' 
    'You will be redirected to products.'
set @Result_NavigateUrl = 'ConsignmentStock.aspx?FilterBy=Customer'</Data>
  </update>
</c><c y="NodeSet" t="2016-05-16T16:39:26">
  <controller name="Customer" />
  <actionGroup id="ag1" />
  <action id="a100" />
  <update>
    <Data>set @Session_CustomerID = @CustomerID
set @Result_ShowAlert = 
    'Primary key of supplier "' + @CustomerName + 
    '" has been stored in the user session. ' +
    'You will be redirected to products.'
set @Result_NavigateUrl = 'ConsignmentStock.aspx?FilterBy=Customer'</Data>
  </update>
</c><c y="NodeSet" t="2016-05-16T16:44:26">
  <controller name="ConsignmentUsage" />
  <update>
    <Handler>ConsignmentUsageBusinessRules</Handler>
  </update>
</c><c y="NodeSet" t="2016-05-16T16:55:29">
  <controller name="Customer" />
  <actionGroup id="ag1" />
  <action id="a100" />
  <update>
    <Data>set @Session_CustomerID = @CustomerID
set @Result_ShowAlert = 
    'Primary key of supplier "' + @CustomerName + 
    '" has been stored in the user session. ' +
    'You will be redirected to products.'
set @Result_NavigateUrl = 'ConsignmentStock.aspx'</Data>
  </update>
</c><c y="NodeSet" t="2016-05-16T16:55:59">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <update>
    <FilterExpression />
  </update>
</c><c y="NodeSet" t="2016-05-16T16:58:56">
  <controller name="Customer" />
  <actionGroup id="ag1" />
  <action id="a100" />
  <delete />
</c><c y="NodeSet" t="2016-05-16T17:46:25">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <update>
    <FilterExpression>CustomerID=2</FilterExpression>
  </update>
</c><c y="NodeSet" t="2016-05-16T17:56:00">
  <controller name="ConsignmentStock" />
  <update>
    <Handler>ConsignmentUsageHandler</Handler>
  </update>
</c><c y="NodeSet" t="2016-05-16T17:56:36">
  <controller name="ConsignmentStock" />
  <update>
    <Handler>ConsignmentStockHandler</Handler>
  </update>
</c><c y="NodeSet" t="2016-05-16T17:58:55">
  <controller name="ConsignmentStock" />
  <update>
    <Handler>ConsignmentStockBusinesRules</Handler>
  </update>
</c><c y="NodeSet" t="2016-05-16T18:27:06">
  <controller name="ConsignmentStock" />
  <update>
    <Handler />
  </update>
</c><c y="NodeSet" t="2016-05-17T08:10:10">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="PacketNo" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="ProductID" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:10:36">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="ProductID" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="InStock" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:10:42">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="Errors" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:10:45">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="CustomerID" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="ConsumedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:11:02">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="ModifiedBy" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T08:11:02">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="ModifiedOn" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T08:11:02">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="CreatedOn" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T08:11:02">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="SentOn" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T08:11:02">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="CreatedBy" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T08:15:35">
  <controller name="ConsignmentUsage" />
  <insert type="rule">
    <Type>Sql</Type>
    <CommandName>Insert</CommandName>
    <Phase>Before</Phase>
    <Script>SET @CustomerID = (SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId</Script>
  </insert>
</c><c y="NodeSet" t="2016-05-17T08:19:52">
  <controller name="ConsignmentUsage" />
  <rule id="r100" />
  <update>
    <Script>SET @CustomerID = (SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId
SET @ConsumedOn = GetDate()				   
				   </Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T08:21:46">
  <controller name="ConsignmentUsage" />
  <rule id="r100" />
  <update>
    <CommandName>New</CommandName>
    <Script>SET @CustomerID = (SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId
SET @ConsumedOn = GetDate()				   
				   </Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T08:21:53">
  <controller name="ConsignmentUsage" />
  <rule id="r100" />
  <update>
    <Script>SET @CustomerID = (SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId
SET @ConsumedOn = GetDate()				   
				   </Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T08:25:54">
  <controller name="ConsignmentUsage" />
  <rule id="r100" />
  <update>
    <Script>SET @CustomerID = 71 --(SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId
SELECT 
	@CustomerCode = CustomerCode
FROM
	tCustomer 
WHERE
	tCustomer.CustomerID = @CustomerID
SET @ConsumedOn = GetDate()				   
				   </Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T08:29:40">
  <controller name="ConsignmentUsage" />
  <rule id="r100" />
  <update>
    <Script>SET @CustomerID = (SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId
SELECT 
	@CustomerCode = tCustomer.CustomerCode
FROM
	tCustomer 
WHERE
	tCustomer.CustomerID = @CustomerID
--SET @ConsumedOn = GetDate()				   
				   </Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T08:38:00">
  <controller name="ConsignmentUsage" />
  <rule id="r100" />
  <update>
    <Script>SET @CustomerID = (SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId
SELECT 
	@CustomerCode = tCustomer.CustomerCode
FROM
	tCustomer 
WHERE
	tCustomer.CustomerID = @CustomerID
--SET @ConsumedOn = GetDate()				   
				   </Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T08:41:40">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="CustomerID" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T08:41:56">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="CustomerID" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T08:42:13">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="CustomerID" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T08:43:00">
  <controller name="ConsignmentUsage" />
  <rule id="r100" />
  <update>
    <Script>SET @CustomerID = (SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId
SET @ConjjjjjjjsumedOn = GetDate()				   
				   </Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T08:46:51">
  <controller name="ConsignmentUsage" />
  <rule id="r100" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T08:47:49">
  <controller name="ConsignmentUsage" />
  <update>
    <Handler />
  </update>
</c><c y="NodeSet" t="2016-05-17T08:48:48">
  <controller name="ConsignmentUsage" />
  <insert type="rule">
    <Type>Sql</Type>
    <CommandName>New</CommandName>
    <Phase>Execute</Phase>
    <Script>SET @CustomerID = (SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId
SET @ConsumedOn = GetDate()	</Script>
  </insert>
</c><c y="NodeSet" t="2016-05-17T08:50:11">
  <controller name="ConsignmentUsage" />
  <rule id="r100" />
  <update>
    <Script>SELECT @CustomerID = (SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId
SELECT @ConsumedOn = GetDate()	</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T08:51:11">
  <controller name="ConsignmentUsage" />
  <rule id="r100" />
  <update>
    <Script>SELECT @CustomerID = (SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId)
SELECT @ConsumedOn = GetDate()	</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T08:54:35">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <update>
    <FilterExpression />
  </update>
</c><c y="NodeSet" t="2016-05-17T08:57:12">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="PacketNo" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:57:15">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="ProductID" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="ConsumedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:57:20">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="ProductID" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="InStock" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:58:09">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Modification History</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-17T08:58:13">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="CreatedBy" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:58:15">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c2" />
  <dataField fieldName="CreatedBy" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="CreatedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:58:18">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c2" />
  <dataField fieldName="CreatedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ModifiedBy" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:58:21">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c2" />
  <dataField fieldName="ModifiedBy" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ModifiedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:58:47">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Stock Status</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-17T08:58:52">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c1" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c3" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:58:56">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c3" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="InStock" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:59:01">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c3" />
  <dataField fieldName="InStock" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="Errors" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:59:04">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c3" />
  <dataField fieldName="Errors" />
  <after>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="SentOn" />
  </after>
</c><c y="NodeSet" t="2016-05-17T08:59:10">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c3" />
  <dataField fieldName="InStock" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ProductID" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:59:18">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c3" />
    <dataField fieldName="ProductID" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:59:20">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ProductID" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:59:22">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="PacketNo" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ProductID" />
  </move>
</c><c y="NodeSet" t="2016-05-17T08:59:38">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <dataField fieldName="ProductID" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T08:59:50">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T09:00:07">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <dataField fieldName="InStock" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T09:00:16">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <dataField fieldName="Errors" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T09:00:25">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <dataField fieldName="SentOn" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T09:00:35">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <dataField fieldName="CreatedBy" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T09:00:42">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <dataField fieldName="CreatedOn" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T09:00:49">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <dataField fieldName="ModifiedBy" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T09:01:07">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <update>
    <HeaderText>Consignment Usage</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-17T09:01:19">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="ProductID" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T09:01:26">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="InStock" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T09:02:58">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="InStock" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="ConsumedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-17T09:03:07">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T09:03:09">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="ProductID" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="ConsumedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-17T09:03:27">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <insert type="category">
    <HeaderText>Stock Status</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-17T09:03:32">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="InStock" />
  </move>
</c><c y="NodeSet" t="2016-05-17T09:03:35">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c2" />
  <dataField fieldName="InStock" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="Errors" />
  </move>
</c><c y="NodeSet" t="2016-05-17T09:07:09">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c3" />
  <update>
    <NewColumn>true</NewColumn>
  </update>
</c><c y="NodeSet" t="2016-05-17T09:07:36">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c2" />
  <update>
    <Collapsed>true</Collapsed>
  </update>
</c><c y="NodeSet" t="2016-05-17T09:07:43">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c2" />
  <update>
    <NewColumn>true</NewColumn>
  </update>
</c><c y="NodeSet" t="2016-05-17T09:09:27">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-17T09:09:38">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <update>
    <Label>Consignment Usage</Label>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-17T09:09:43">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-17T09:09:53">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-17T09:09:57">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <update>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-17T09:10:57">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="ProductID" />
  </move>
</c><c y="NodeSet" t="2016-05-17T09:10:59">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="ProductID" />
  </move>
</c><c y="NodeSet" t="2016-05-17T09:11:02">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="ProductID" />
  </move>
</c><c y="NodeSet" t="2016-05-17T09:11:04">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="ProductID" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="ConsumedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-17T09:11:45">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="SentOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="InStock" />
  </move>
</c><c y="NodeSet" t="2016-05-17T09:11:49">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="CreatedBy" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="Errors" />
  </move>
</c><c y="NodeSet" t="2016-05-17T09:11:52">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="CreatedBy" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="Errors" />
  </move>
</c><c y="NodeSet" t="2016-05-17T09:11:54">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="CreatedBy" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="Errors" />
  </move>
</c><c y="NodeSet" t="2016-05-17T09:11:56">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="InStock" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="Errors" />
  </move>
</c><c y="NodeSet" t="2016-05-17T09:12:03">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="ModifiedBy" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T09:12:03">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="ModifiedOn" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T09:12:03">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="CreatedBy" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T09:12:03">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="CreatedOn" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T09:14:24">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="Errors" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="SentOn" />
  </move>
</c><c y="NodeSet" t="2016-05-17T10:02:03">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="ProductID" />
  <update>
    <TextMode>Text</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T10:02:17">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="InStock" />
  <update>
    <TextMode>Text</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T10:05:25">
  <controller name="ConsignmentUsage" />
  <field name="ProductID" />
  <update>
    <ItemsDataTextField>ProductName</ItemsDataTextField>
  </update>
</c><c y="NodeSet" t="2016-05-17T10:20:46">
  <controller name="UserRoles" />
  <field name="RoleID" />
  <update>
    <ItemsDataView>grid1</ItemsDataView>
    <ItemsDataTextField>RoleName</ItemsDataTextField>
  </update>
</c><c y="NodeSet" t="2016-05-17T10:21:13">
  <controller name="UserRoles" />
  <field name="UserID" />
  <update>
    <ItemsDataView>grid1</ItemsDataView>
    <ItemsDataTextField>UserName</ItemsDataTextField>
  </update>
</c><c y="NodeSet" t="2016-05-17T10:29:00">
  <controller name="Users" />
  <insert type="rule">
    <Type>Code</Type>
    <CommandName>Insert|Update</CommandName>
    <Phase>Before</Phase>
  </insert>
</c><c y="NodeSet" t="2016-05-17T10:32:19">
  <controller name="Users" />
  <view id="createForm1" />
  <dataField fieldName="Password" />
  <update>
    <TextMode>Password</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T10:32:40">
  <controller name="Users" />
  <view id="editForm1" />
  <dataField fieldName="Password" />
  <update>
    <TextMode>Password</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T10:50:06">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag5" />
  <insert type="action">
    <CommandName>SQL</CommandName>
    <CausesValidation>true</CausesValidation>
    <Data>Exec pConsignmentStockGet @BusinessRules_UserID</Data>
  </insert>
</c><c y="NodeSet" t="2016-05-17T10:50:32">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag5" />
  <action id="a100" />
  <update>
    <HeaderText>Update From Supplier</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-17T10:52:34">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag5" />
  <action id="a100" />
  <update>
    <Data>Exec pConsignmentStockGet @BusinessRules_UserId</Data>
  </update>
</c><c y="NodeSet" t="2016-05-17T10:58:47">
  <controller name="ConsignmentStock" />
  <insert type="rule">
    <Type>Sql</Type>
    <CommandName>Select</CommandName>
    <Phase>Before</Phase>
    <Script>Exec pConsigmentStockGet @BusinessRules_UserId
SET @Result_ShowAlert = @BusinessRules_UserId
SET @Session_StockGet = GetDate()
</Script>
  </insert>
</c><c y="NodeSet" t="2016-05-17T10:59:35">
  <controller name="ConsignmentStock" />
  <rule id="r100" />
  <update>
    <Script>Exec pConsignmentStockGet @BusinessRules_UserId
SET @Result_ShowAlert = @BusinessRules_UserId
SET @Session_StockGet = GetDate()
</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T11:05:02">
  <controller name="ConsignmentStock" />
  <insert type="actionGroup">
    <Scope>ActionBar</Scope>
    <HeaderText>Custom</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-17T11:05:16">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag100" />
  <move>
    <controller name="ConsignmentStock" />
    <actionGroup id="ag5" />
    <action id="a100" />
  </move>
</c><c y="NodeSet" t="2016-05-17T11:05:49">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag100" />
  <update>
    <Flat>true</Flat>
  </update>
</c><c y="NodeSet" t="2016-05-17T11:07:45">
  <controller name="ConsignmentUsage" />
  <insert type="actionGroup">
    <Scope>ActionBar</Scope>
    <HeaderText>Actions</HeaderText>
    <Flat>true</Flat>
  </insert>
</c><c y="NodeSet" t="2016-05-17T11:08:29">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <insert type="action">
    <CommandName>SQL</CommandName>
    <CausesValidation>true</CausesValidation>
    <Data>SET @Result_Refresh = 1</Data>
  </insert>
</c><c y="NodeSet" t="2016-05-17T11:08:45">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <HeaderText>Send To Supplier</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-17T11:14:35">
  <controller name="ConsignmentUsage" />
  <field name="PacketNo" />
  <update>
    <CausesCalculate>true</CausesCalculate>
  </update>
</c><c y="NodeSet" t="2016-05-17T11:31:49">
  <controller name="ConsignmentUsage" />
  <insert type="rule">
    <Type>Sql</Type>
    <CommandName>Calculate</CommandName>
    <Phase>Execute</Phase>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
  BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
    
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = ProductID
    FROM
	  tConsignmentStock
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @ExistingPacketNo IS NULL and @Success = 1
	BEGIN	  	   
	  SET @Errors = 'Packet is not on consignment'
	END  
    IF @Success = 1
    BEGIN	
	    INSERT INTO tConsignmentUsage
		   ([CustomerID]
		   ,[PacketNo]
		   ,[ProductID]
		   ,[ConsumedOn]
		   ,[InStock]
		   ,[Errors])           
		SELECT
			@CustomerID,
			@PacketNo,
			@ExistingProductID,
			@ConsumedOn,
			CASE WHEN @ExistingPacketNo IS NULL THEN 0 ELSE 1 END,
			@Errors
		
		SET @LastPacketNo = @PacketNo
		SET @LastError = @Error
		SET @PacketNo = ''
		SET @Errors = null
    END
  END</Script>
  </insert>
</c><c y="NodeSet" t="2016-05-17T11:32:49">
  <controller name="ConsignmentUsage" />
  <insert type="field">
    <Name>LastPacketNo</Name>
    <Type>String</Type>
    <AllowNulls>false</AllowNulls>
    <IsPrimaryKey>false</IsPrimaryKey>
    <Computed>false</Computed>
    <Calculated>false</Calculated>
    <CausesCalculate>false</CausesCalculate>
    <OnDemand>false</OnDemand>
    <Hidden>false</Hidden>
    <Label>Last Packet No</Label>
    <ReadOnly>false</ReadOnly>
    <ShowInSummary>false</ShowInSummary>
    <HtmlEncode>false</HtmlEncode>
    <FormatOnClient>true</FormatOnClient>
    <SearchOnStart>false</SearchOnStart>
    <AutoSelect>false</AutoSelect>
    <ItemsLetters>false</ItemsLetters>
    <AllowQBE>false</AllowQBE>
    <AllowSorting>false</AllowSorting>
    <AllowLEV>false</AllowLEV>
  </insert>
</c><c y="NodeSet" t="2016-05-17T11:33:01">
  <controller name="ConsignmentUsage" />
  <insert type="field">
    <Name>LastError</Name>
    <Type>String</Type>
    <AllowNulls>false</AllowNulls>
    <IsPrimaryKey>false</IsPrimaryKey>
    <Computed>false</Computed>
    <Calculated>false</Calculated>
    <CausesCalculate>false</CausesCalculate>
    <OnDemand>false</OnDemand>
    <Hidden>false</Hidden>
    <Label>Last Error</Label>
    <ReadOnly>false</ReadOnly>
    <ShowInSummary>false</ShowInSummary>
    <HtmlEncode>false</HtmlEncode>
    <FormatOnClient>true</FormatOnClient>
    <SearchOnStart>false</SearchOnStart>
    <AutoSelect>false</AutoSelect>
    <ItemsLetters>false</ItemsLetters>
    <AllowQBE>false</AllowQBE>
    <AllowSorting>false</AllowSorting>
    <AllowLEV>false</AllowLEV>
  </insert>
</c><c y="NodeSet" t="2016-05-17T11:33:36">
  <controller name="ConsignmentUsage" />
  <field name="LastPacketNo" />
  <update>
    <AllowNulls>true</AllowNulls>
  </update>
</c><c y="NodeSet" t="2016-05-17T11:33:42">
  <controller name="ConsignmentUsage" />
  <field name="LastError" />
  <update>
    <AllowNulls>true</AllowNulls>
  </update>
</c><c y="NodeSet" t="2016-05-17T11:33:54">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="LastError" />
  </copy>
</c><c y="NodeSet" t="2016-05-17T11:33:54">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="LastPacketNo" />
  </copy>
</c><c y="NodeSet" t="2016-05-17T11:35:10">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T11:35:45">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a7" />
  <update>
    <HeaderText>Cancel</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-17T11:43:52">
  <controller name="ConsignmentUsage" />
  <insert type="rule">
    <Type>Sql</Type>
    <CommandName>Insert</CommandName>
    <Phase>Before</Phase>
    <Script>SET @BusinessRules_PreventDefault = 1</Script>
  </insert>
</c><c y="NodeSet" t="2016-05-17T11:45:28">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
  BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
    
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = ProductID
    FROM
	  tConsignmentStock
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @ExistingPacketNo IS NULL and @Success = 1
	BEGIN	  	   
	  SET @Errors = 'Packet is not on consignment'
	END  
    IF @Success = 1
    BEGIN	
	    INSERT INTO tConsignmentUsage
		   ([CustomerID]
		   ,[PacketNo]
		   ,[ProductID]
		   ,[ConsumedOn]
		   ,[InStock]
		   ,[Errors])           
		SELECT
			@CustomerID,
			@PacketNo,
			@ExistingProductID,
			@ConsumedOn,
			CASE WHEN @ExistingPacketNo IS NULL THEN 0 ELSE 1 END,
			@Errors
		
		SET @LastPacketNo = @PacketNo
		SET @LastError = @Error
		SET @PacketNo = ''
		SET @Errors = ''
    END
  END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T11:48:33">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
  BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
    
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = ProductID
    FROM
	  tConsignmentStock
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @ExistingPacketNo IS NULL and @Success = 1
	BEGIN	  	   
	  SET @Errors = 'Packet is not on consignment'
	END  
    IF @Success = 1
    BEGIN	
	    INSERT INTO tConsignmentUsage
		   ([CustomerID]
		   ,[PacketNo]
		   ,[ProductID]
		   ,[ConsumedOn]
		   ,[InStock]
		   ,[Errors])           
		SELECT
			@CustomerID,
			@PacketNo,
			@ExistingProductID,
			@ConsumedOn,
			CASE WHEN @ExistingPacketNo IS NULL THEN 0 ELSE 1 END,
			@Errors
		
		SET @LastPacketNo = @PacketNo
		SET @LastError = @Errors
		SET @PacketNo = ''
		SET @Errors = ''
    END
  END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T11:50:22">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    </Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T11:51:42">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
END
    </Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T11:53:01">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = ProductID
    FROM
	  tConsignmentStock
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo
END
    </Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T11:55:11">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = ProductID
    FROM
	  tConsignmentStock
    WHERE
	  tConsignmentStock.CustomerID = @CustomerID and
	  tConsignmentStock.PacketNo = @PacketNo	  
  
    IF @ExistingPacketNo IS NULL and @Success = 1
	BEGIN	  	   
	  SET @Errors = 'Packet is not on consignment'
	END  
    IF @Success = 1
    BEGIN	
	    INSERT INTO tConsignmentUsage
		   ([CustomerID]
		   ,[PacketNo]
		   ,[ProductID]
		   ,[ConsumedOn]
		   ,[InStock]
		   ,[Errors])           
		SELECT
			@CustomerID,
			@PacketNo,
			@ExistingProductID,
			@ConsumedOn,
			CASE WHEN @ExistingPacketNo IS NULL THEN 0 ELSE 1 END,
			@Errors
		
		SET @LastPacketNo = @PacketNo
		SET @LastError = @Errors
		SET @PacketNo = ''
		SET @Errors = ''
    END
END
    </Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T11:58:46">
  <controller name="ConsignmentUsage" />
  <field name="PacketNo" />
  <update>
    <AllowNulls>true</AllowNulls>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:01:23">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="LastPacketNo" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:01:34">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="LastError" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:10:27">
  <controller name="ConsignmentUsage" />
  <insert type="rule">
    <Type>JavaScript</Type>
    <CommandName>Calculate</CommandName>
    <Phase>Execute</Phase>
    <Script>document.getElementById('consignmentusage_PacketNo_Input').focus();</Script>
  </insert>
</c><c y="NodeSet" t="2016-05-17T12:11:52">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = ProductID
    FROM
	  tConsignmentStock
    WHERE
	  tConsignmentStock.CustomerID = @CustomerID and
	  tConsignmentStock.PacketNo = @PacketNo	  
  
    IF @ExistingPacketNo IS NULL and @Success = 1
	BEGIN	  	   
	  SET @Errors = 'Packet is not on consignment'
	END  
    IF @Success = 1
    BEGIN	
	    INSERT INTO tConsignmentUsage
		   ([CustomerID]
		   ,[PacketNo]
		   ,[ProductID]
		   ,[ConsumedOn]
		   ,[InStock]
		   ,[Errors])           
		SELECT
			@CustomerID,
			@PacketNo,
			@ExistingProductID,
			@ConsumedOn,
			CASE WHEN @ExistingPacketNo IS NULL THEN 0 ELSE 1 END,
			@Errors
		
		
		SET @LastPacketNo = @PacketNo
		SET @LastError = @Errors
		SET @PacketNo = ''
		SET @Errors = ''
		
		SET @Result_Focus = 'PacketNo, Packet already scanned.' + @LastPacketNo
    END
END
    </Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:15:31">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="LastPacketNo" />
  <update>
    <Rows />
    <ReadOnly>false</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:16:30">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="LastPacketNo" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:16:55">
  <controller name="ConsignmentUsage" />
  <field name="LastPacketNo" />
  <update>
    <Calculated>true</Calculated>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:17:31">
  <controller name="ConsignmentUsage" />
  <field name="LastPacketNo" />
  <update>
    <Calculated>false</Calculated>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:17:52">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = ProductID
    FROM
	  tConsignmentStock
    WHERE
	  tConsignmentStock.CustomerID = @CustomerID and
	  tConsignmentStock.PacketNo = @PacketNo	  
  
    IF @ExistingPacketNo IS NULL and @Success = 1
	BEGIN	  	   
	  SET @Errors = 'Packet is not on consignment'
	END  
    IF @Success = 1
    BEGIN	
	    INSERT INTO tConsignmentUsage
		   ([CustomerID]
		   ,[PacketNo]
		   ,[ProductID]
		   ,[ConsumedOn]
		   ,[InStock]
		   ,[Errors])           
		SELECT
			@CustomerID,
			@PacketNo,
			@ExistingProductID,
			@ConsumedOn,
			CASE WHEN @ExistingPacketNo IS NULL THEN 0 ELSE 1 END,
			@Errors
		
		
		SET @LastPacketNo = @PacketNo
		SET @LastError = @Errors
		SET @PacketNo = ''
		SET @Errors = ''
		
		SET @Result_Refresh = 1
    END
END
    </Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:21:11">
  <controller name="ConsignmentUsage" />
  <insert type="rule">
    <Type>Sql</Type>
    <CommandName>Insert|Update</CommandName>
    <Phase>Before</Phase>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END

END</Script>
  </insert>
</c><c y="NodeSet" t="2016-05-17T12:21:50">
  <controller name="ConsignmentUsage" />
  <rule id="r104" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'
	  SET @BusinessRules_PreventDefault = 1
    END

END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:22:09">
  <controller name="ConsignmentUsage" />
  <rule id="r104" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'
	  SET @BusinessRules_PreventDefault = 1
    END
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:26:27">
  <controller name="ConsignmentUsage" />
  <rule id="r104" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'
	  SET @BusinessRules_PreventDefault = 1
    END
	
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = ProductID
    FROM
	  tConsignmentStock
    WHERE
	  tConsignmentStock.CustomerID = @CustomerID and
	  tConsignmentStock.PacketNo = @PacketNo	  
  
    IF @ExistingPacketNo IS NULL and @Success = 1
	BEGIN	  	   
	  SET @Errors = 'Packet is not on consignment'	  
	END
	ELSE
	BEGIN
		SET @ProductID = @ExistingProductID
		SET @InStock = 1
    END	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:26:43">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:26:54">
  <controller name="ConsignmentUsage" />
  <rule id="r103" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:27:39">
  <controller name="ConsignmentUsage" />
  <rule id="r102" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:29:19">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:29:19">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a5" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:29:19">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:29:19">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a1" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:29:19">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:29:20">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a10" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:29:20">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a13" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:29:20">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a9" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:29:20">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:29:20">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:29:22">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <copy>
    <controller name="ConsignmentStock" />
    <actionGroup id="ag2" />
    <action id="a8" />
  </copy>
</c><c y="NodeSet" t="2016-05-17T12:29:22">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <copy>
    <controller name="ConsignmentStock" />
    <actionGroup id="ag2" />
    <action id="a7" />
  </copy>
</c><c y="NodeSet" t="2016-05-17T12:29:22">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <copy>
    <controller name="ConsignmentStock" />
    <actionGroup id="ag2" />
    <action id="a9" />
  </copy>
</c><c y="NodeSet" t="2016-05-17T12:29:22">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <copy>
    <controller name="ConsignmentStock" />
    <actionGroup id="ag2" />
    <action id="a13" />
  </copy>
</c><c y="NodeSet" t="2016-05-17T12:29:22">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <copy>
    <controller name="ConsignmentStock" />
    <actionGroup id="ag2" />
    <action id="a10" />
  </copy>
</c><c y="NodeSet" t="2016-05-17T12:29:22">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <copy>
    <controller name="ConsignmentStock" />
    <actionGroup id="ag2" />
    <action id="a6" />
  </copy>
</c><c y="NodeSet" t="2016-05-17T12:29:22">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <copy>
    <controller name="ConsignmentStock" />
    <actionGroup id="ag2" />
    <action id="a2" />
  </copy>
</c><c y="NodeSet" t="2016-05-17T12:29:22">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <copy>
    <controller name="ConsignmentStock" />
    <actionGroup id="ag2" />
    <action id="a1" />
  </copy>
</c><c y="NodeSet" t="2016-05-17T12:29:22">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <copy>
    <controller name="ConsignmentStock" />
    <actionGroup id="ag2" />
    <action id="a3" />
  </copy>
</c><c y="NodeSet" t="2016-05-17T12:29:22">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <copy>
    <controller name="ConsignmentStock" />
    <actionGroup id="ag2" />
    <action id="a5" />
  </copy>
</c><c y="NodeSet" t="2016-05-17T12:29:22">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <copy>
    <controller name="ConsignmentStock" />
    <actionGroup id="ag2" />
    <action id="a4" />
  </copy>
</c><c y="NodeSet" t="2016-05-17T12:34:18">
  <controller name="ConsignmentUsage" />
  <insert type="rule">
    <Type>Sql</Type>
    <CommandName>Calculate</CommandName>
    <Phase>Execute</Phase>
    <Script>SET @PacketNo = ''</Script>
  </insert>
</c><c y="NodeSet" t="2016-05-17T12:35:35">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = ProductID
    FROM
	  tConsignmentStock
    WHERE
	  tConsignmentStock.CustomerID = @CustomerID and
	  tConsignmentStock.PacketNo = @PacketNo	  
  
    IF @ExistingPacketNo IS NULL and @Success = 1
	BEGIN	  	   
	  SET @Errors = 'Packet is not on consignment'	  
	END
	ELSE
	BEGIN
		SET @ProductID = @ExistingProductID
		SET @InStock = 1
    END	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:39:37">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  SELECT
		@ExistingPacketNo = PacketNo,
		@ExistingProductID = ProductID
	  FROM
		tConsignmentStock
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @InStock = 0
		SET @Errors = 'Packet is not on consignment'		
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID		
		  SET @InStock = 1
		  SET @Errors = null
	  END	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:41:01">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  SELECT
		@ExistingPacketNo = PacketNo,
		@ExistingProductID = ProductID
	  FROM
		tConsignmentStock
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		--SET @ProductID = null
		SET @InStock = 0
		SET @Errors = 'Packet is not on consignment'		
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID		
		  SET @InStock = 1
		  --SET @Errors = null
	  END	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:44:29">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="Errors" />
  </copy>
</c><c y="DeleteAll" t="2016-05-17T12:44:35">
  <s p="//a:dataController[@name=$Controller]/a:views/a:view[@id=$ViewId]/a:categories/a:category[@id!=$CategoryId and $CategoryId!='']/a:dataFields/a:dataField[@fieldName=$FieldName]">
    <v n="CategoryId" v="c1" />
    <v n="Controller" v="ConsignmentUsage" />
    <v n="FieldName" v="Errors" />
    <v n="ViewId" v="createForm1" />
  </s>
</c><c y="NodeSet" t="2016-05-17T12:47:16">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  SELECT
		@ExistingPacketNo = PacketNo,
		@ExistingProductID = ProductID
	  FROM
		tConsignmentStock
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		--SET @ProductID = null
		SET @InStock = 0
		SET @Errors = 'Packet is not on consignment'
		SET @Result_Focus = 'PacketNo, ' + @Errors
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID		
		  SET @InStock = 1
		  --SET @Errors = null
	  END	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:49:35">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="InStock" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:51:22">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="Errors" />
  </move>
</c><c y="NodeSet" t="2016-05-17T12:51:32">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="LastPacketNo" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:51:41">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="LastError" />
  <delete />
</c><c y="NodeSet" t="2016-05-17T12:52:21">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  SELECT
		@ExistingPacketNo = PacketNo,
		@ExistingProductID = ProductID
	  FROM
		tConsignmentStock
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		--SET @ProductID = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Result_Focus = 'PacketNo, ' + @Errors
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID		
		  SET @InStock = 1
		  --SET @Errors = null
	  END	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:55:01">
  <controller name="ConsignmentUsage" />
  <rule id="r100" />
  <update>
    <Script>SELECT @CustomerID = (SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId)
SELECT @ConsumedOn = GetDate()	
SET @Errors = 'Error'</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:55:51">
  <controller name="ConsignmentUsage" />
  <rule id="r100" />
  <update>
    <Script>SELECT @CustomerID = (SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId)
SELECT @ConsumedOn = GetDate()	
SELECT @Errors = 'Error'</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T12:57:24">
  <controller name="ConsignmentUsage" />
  <rule id="r100" />
  <update>
    <Script>SELECT @CustomerID = (SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId)
SELECT @ConsumedOn = GetDate()	
SELECT @Errors = 'Error'
SELECT @ProductName = 'Select'</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T13:02:00">
  <controller name="ConsignmentUsage" />
  <rule id="r100" />
  <update>
    <Script>SELECT @CustomerID = (SELECT CustomerID FROM Users WHERE Users.UserID = @BusinessRules_UserId)
SELECT @ConsumedOn = GetDate()	
</Script>
  </update>
</c><c y="NodeSet" t="2016-05-17T13:02:39">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo	  
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  SELECT
		@ExistingPacketNo = PacketNo,
		@ExistingProductID = ProductID
	  FROM
		tConsignmentStock
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID		
		  SET @InStock = 1
		  SET @Errors = null
	  END	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:03:23">
  <controller name="ConsignmentStock" />
  <rule id="r100" />
  <update>
    <Script>--Exec pConsignmentStockGet @BusinessRules_UserId
--SET @Result_ShowAlert = @BusinessRules_UserId
--SET @Session_StockGet = GetDate()
</Script>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:03:31">
  <controller name="ConsignmentStock" />
  <view id="createForm1" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:03:36">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="CustomerID" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:03:51">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="CustomerID" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:05">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:05">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag1" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:05">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag1" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:05">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag1" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:05">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag1" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:11">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag2" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:11">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag2" />
  <action id="a1" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:18">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag2" />
  <action id="a9" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:18">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag2" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:18">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag2" />
  <action id="a13" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:18">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag2" />
  <action id="a10" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:18">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag2" />
  <action id="a5" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:18">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag2" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:18">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag2" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:18">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag2" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:24">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag3" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:34">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag4" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:47">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag5" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:47">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag5" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:47">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag5" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:47">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag5" />
  <action id="a5" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:47">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag5" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:47">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag5" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:47">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag5" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:04:57">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag6" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:05:17">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:05:28">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag100" />
  <update>
    <HeaderText>Actions Flat</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:07:41">
  <controller name="ConsignmentStock" />
  <field name="ProductCategoryCode" />
  <update>
    <Label>Category Code</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:07:49">
  <controller name="ConsignmentStock" />
  <field name="ProductCategoryName" />
  <update>
    <Label>Category Name</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:07:56">
  <controller name="ConsignmentStock" />
  <field name="ProductWidth" />
  <update>
    <Label>Width</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:08:04">
  <controller name="ConsignmentStock" />
  <field name="ProductThickness" />
  <update>
    <Label>Thickness</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:08:16">
  <controller name="ConsignmentStock" />
  <field name="ProductLength" />
  <update>
    <Label>Length</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:09:02">
  <controller name="ConsignmentStock" />
  <field name="Pieces" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:09:15">
  <controller name="ConsignmentStock" />
  <field name="Cube" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:09:26">
  <controller name="ConsignmentStock" />
  <field name="Area" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:09:38">
  <controller name="ConsignmentStock" />
  <field name="Lineal" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:10:10">
  <controller name="ConsignmentStock" />
  <field name="ProductID" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:10:21">
  <controller name="ConsignmentStock" />
  <field name="PacketNo" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:10:30">
  <controller name="ConsignmentStock" />
  <field name="CustomerID" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:11:44">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="Lineal" />
  <after>
    <controller name="ConsignmentStock" />
    <view id="grid1" />
    <dataField fieldName="ProductCategoryCode" />
  </after>
</c><c y="NodeSet" t="2016-05-18T12:11:55">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="Lineal" />
  <after>
    <controller name="ConsignmentStock" />
    <view id="grid1" />
    <dataField fieldName="ProductID" />
  </after>
</c><c y="NodeSet" t="2016-05-18T12:15:10">
  <controller name="ConsignmentStock" />
  <field name="Lineal" />
  <move>
    <controller name="ConsignmentStock" />
    <field name="ProductWidth" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:15:25">
  <controller name="ConsignmentStock" />
  <field name="ProductThickness" />
  <move>
    <controller name="ConsignmentStock" />
    <field name="ProductWidth" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:15:27">
  <controller name="ConsignmentStock" />
  <field name="ProductCategoryName" />
  <move>
    <controller name="ConsignmentStock" />
    <field name="ProductWidth" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:15:35">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductID" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="grid1" />
    <dataField fieldName="ProductWidth" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:15:42">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductWidth" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="grid1" />
    <dataField fieldName="ProductThickness" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:15:44">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductThickness" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="grid1" />
    <dataField fieldName="ProductLength" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:15:48">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="Lineal" />
  <after>
    <controller name="ConsignmentStock" />
    <view id="grid1" />
    <dataField fieldName="ProductCategoryCode" />
  </after>
</c><c y="NodeSet" t="2016-05-18T12:16:49">
  <controller name="ConsignmentStock" />
  <field name="Pieces" />
  <update>
    <Type>Decimal</Type>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:17:58">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="PacketNo" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="grid1" />
    <dataField fieldName="ProductCategoryName" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:18:01">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductName" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="grid1" />
    <dataField fieldName="PacketNo" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:18:38">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <update>
    <SortExpression>ProductCategoryName, ProductName, PacketNo</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:20:21">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <update>
    <SortExpression>ProductCategoryName, Width, Thickness, Length, ProductName, PacketNo</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:21:09">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <update>
    <SortExpression>ProductCategoryName, "Width"</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:22:34">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <update>
    <SortExpression>ProductCategoryName, ProductWidth, ProductThickness, ProductName, PacketNo</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:27:13">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T12:27:22">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T12:27:30">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-18T12:28:17">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Measures</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-18T12:28:30">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="Area" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:28:30">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="Lineal" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:28:30">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="Pieces" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:28:30">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="Cube" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:28:41">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Codes</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-18T12:28:45">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c3" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ProductCategoryCode" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:28:47">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c3" />
  <dataField fieldName="ProductCategoryCode" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ProductCategoryName" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:29:16">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Dimensions</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-18T12:29:23">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c4" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ProductLength" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:29:23">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c4" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ProductThickness" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:29:23">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c4" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ProductWidth" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:29:28">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c4" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:29:34">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c4" />
  <update>
    <NewColumn>true</NewColumn>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:30:46">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c3" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ProductID" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:30:49">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c3" />
  <dataField fieldName="ProductCategoryCode" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c3" />
    <dataField fieldName="ProductID" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:30:51">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c3" />
  <dataField fieldName="ProductID" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c3" />
    <dataField fieldName="ProductCategoryCode" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:34:21">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <HeaderText>Packet</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:34:49">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <update>
    <Label>Consignment Stock</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:36:19">
  <controller name="Company" />
  <view id="grid1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T12:37:09">
  <controller name="Company" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Modified By</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-18T12:37:14">
  <controller name="Company" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="Company" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ModifiedBy" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:37:14">
  <controller name="Company" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="Company" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ModifiedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:37:14">
  <controller name="Company" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="Company" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="CreatedBy" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:37:14">
  <controller name="Company" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="Company" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="CreatedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:37:47">
  <controller name="Company" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="ModifiedBy" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:37:47">
  <controller name="Company" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="ModifiedOn" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:37:47">
  <controller name="Company" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="CreatedBy" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:37:47">
  <controller name="Company" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="CreatedOn" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:38:13">
  <controller name="Company" />
  <actionGroup id="ag1" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:38:27">
  <controller name="Company" />
  <actionGroup id="ag2" />
  <action id="a9" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:38:31">
  <controller name="Company" />
  <actionGroup id="ag2" />
  <action id="a10" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:38:55">
  <controller name="Company" />
  <actionGroup id="ag5" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:38:55">
  <controller name="Company" />
  <actionGroup id="ag5" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:38:55">
  <controller name="Company" />
  <actionGroup id="ag5" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:38:55">
  <controller name="Company" />
  <actionGroup id="ag5" />
  <action id="a5" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:38:55">
  <controller name="Company" />
  <actionGroup id="ag5" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:38:55">
  <controller name="Company" />
  <actionGroup id="ag5" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:38:55">
  <controller name="Company" />
  <actionGroup id="ag5" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:40:23">
  <controller name="Customer" />
  <view id="grid1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T12:40:46">
  <controller name="Customer" />
  <view id="grid1" />
  <dataField fieldName="Consignment" />
  <move>
    <controller name="Customer" />
    <view id="grid1" />
    <dataField fieldName="Enabled" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:41:33">
  <controller name="Customer" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Last Modified</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-18T12:41:41">
  <controller name="Customer" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="Customer" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ModifiedBy" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:41:41">
  <controller name="Customer" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="Customer" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ModifiedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:41:41">
  <controller name="Customer" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="Customer" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="CreatedBy" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:41:41">
  <controller name="Customer" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="Customer" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="CreatedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:42:40">
  <controller name="Customer" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Options</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-18T12:42:43">
  <controller name="Customer" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="Customer" />
    <view id="editForm1" />
    <category id="c3" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:42:45">
  <controller name="Customer" />
  <view id="editForm1" />
  <category id="c3" />
  <move>
    <controller name="Customer" />
    <view id="editForm1" />
    <category id="c2" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:42:48">
  <controller name="Customer" />
  <view id="editForm1" />
  <category id="c3" />
  <move>
    <controller name="Customer" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="Consignment" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:43:25">
  <controller name="Customer" />
  <view id="createForm1" />
  <insert type="category">
    <HeaderText>Options</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-18T12:43:32">
  <controller name="Customer" />
  <view id="createForm1" />
  <category id="c2" />
  <move>
    <controller name="Customer" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="Consignment" />
  </move>
</c><c y="NodeSet" t="2016-05-18T12:43:40">
  <controller name="Customer" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="ModifiedBy" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:43:40">
  <controller name="Customer" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="ModifiedOn" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:43:40">
  <controller name="Customer" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="CreatedBy" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:43:40">
  <controller name="Customer" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="CreatedOn" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:44:03">
  <controller name="Customer" />
  <actionGroup id="ag1" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:44:22">
  <controller name="Customer" />
  <actionGroup id="ag5" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:44:22">
  <controller name="Customer" />
  <actionGroup id="ag5" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:44:22">
  <controller name="Customer" />
  <actionGroup id="ag5" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:44:22">
  <controller name="Customer" />
  <actionGroup id="ag5" />
  <action id="a5" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:44:22">
  <controller name="Customer" />
  <actionGroup id="ag5" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:44:22">
  <controller name="Customer" />
  <actionGroup id="ag5" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:44:22">
  <controller name="Customer" />
  <actionGroup id="ag5" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T12:46:12">
  <controller name="Customer" />
  <view id="editForm1" />
  <update>
    <Label>Customer</Label>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T12:46:18">
  <controller name="Customer" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-18T12:46:35">
  <controller name="Customer" />
  <view id="createForm1" />
  <category id="c1" />
  <update>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-18T12:46:52">
  <controller name="Company" />
  <view id="editForm1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T12:47:01">
  <controller name="Company" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-18T12:47:09">
  <controller name="Company" />
  <view id="createForm1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T12:47:16">
  <controller name="Company" />
  <view id="createForm1" />
  <category id="c1" />
  <update>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-18T12:49:13">
  <controller name="Company" />
  <view id="editForm1" />
  <update>
    <Label>Company</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:49:22">
  <controller name="Company" />
  <view id="editForm1" />
  <category id="c2" />
  <update>
    <NewColumn>true</NewColumn>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:49:39">
  <controller name="Customer" />
  <view id="editForm1" />
  <category id="c2" />
  <update>
    <NewColumn>true</NewColumn>
  </update>
</c><c y="NodeSet" t="2016-05-18T12:58:49">
  <controller name="Customer" />
  <view id="createForm1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T13:17:21">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="PasswordQuestion" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:17:21">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="PasswordAnswer" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:17:21">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="Email" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:17:21">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="Comment" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:17:42">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="LastPasswordChangedDate" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:17:50">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="IsApproved" />
  <move>
    <controller name="Users" />
    <view id="grid1" />
    <dataField fieldName="IsLockedOut" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:18:03">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="FailedPasswordAnswerAttemptCount" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:18:03">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="FailedPasswordAnswerAttemptWindowStart" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:18:03">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="FailedPasswordAttemptCount" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:18:03">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="FailedPasswordAttemptWindowStart" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:18:22">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="CreationDate" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:18:29">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="LastLockedOutDate" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:18:38">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="Password" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:19:21">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="IsApproved" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:19:25">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="IsLockedOut" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:19:29">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="LastActivityDate" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:19:33">
  <controller name="Users" />
  <view id="grid1" />
  <dataField fieldName="LastLoginDate" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:23:09">
  <controller name="Users" />
  <view id="createForm1" />
  <insert type="category">
    <HeaderText>Password</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-18T13:23:13">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c2" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="Password" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:23:17">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c2" />
  <dataField fieldName="Password" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="PasswordQuestion" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:23:21">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c2" />
  <dataField fieldName="PasswordQuestion" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="PasswordAnswer" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:23:30">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c2" />
  <dataField fieldName="PasswordAnswer" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="FailedPasswordAttemptCount" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:23:34">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c2" />
  <dataField fieldName="FailedPasswordAttemptCount" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="FailedPasswordAttemptWindowStart" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:23:39">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c2" />
  <dataField fieldName="FailedPasswordAttemptWindowStart" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="FailedPasswordAnswerAttemptCount" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:23:44">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c2" />
  <dataField fieldName="FailedPasswordAnswerAttemptCount" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="FailedPasswordAnswerAttemptWindowStart" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:24:04">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c2" />
  <dataField fieldName="FailedPasswordAttemptWindowStart" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c2" />
    <dataField fieldName="FailedPasswordAnswerAttemptWindowStart" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:24:36">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c2" />
  <dataField fieldName="FailedPasswordAnswerAttemptWindowStart" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:24:36">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c2" />
  <dataField fieldName="FailedPasswordAnswerAttemptCount" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:24:36">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c2" />
  <dataField fieldName="FailedPasswordAttemptCount" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:24:36">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c2" />
  <dataField fieldName="FailedPasswordAttemptWindowStart" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:24:57">
  <controller name="Users" />
  <view id="createForm1" />
  <insert type="category">
    <HeaderText>Last Modified</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-18T13:25:01">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c3" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="CreationDate" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:25:15">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c3" />
  <dataField fieldName="CreationDate" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="LastLoginDate" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:25:18">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c3" />
  <dataField fieldName="LastLoginDate" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="LastActivityDate" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:25:24">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c3" />
  <dataField fieldName="LastActivityDate" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="LastPasswordChangedDate" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:25:27">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c3" />
  <dataField fieldName="LastPasswordChangedDate" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="LastLockedOutDate" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:26:03">
  <controller name="Users" />
  <view id="editForm1" />
  <copy>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c3" />
  </copy>
</c><c y="NodeSet" t="2016-05-18T13:26:14">
  <controller name="Users" />
  <view id="editForm1" />
  <copy>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c2" />
  </copy>
</c><c y="NodeSet" t="2016-05-18T13:26:18">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c3" />
  <move>
    <controller name="Users" />
    <view id="editForm1" />
    <category id="c2" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:26:21">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="Users" />
    <view id="editForm1" />
    <category id="c3" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:26:28">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="Users" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="Password" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:26:31">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c2" />
  <dataField fieldName="Password" />
  <move>
    <controller name="Users" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="PasswordQuestion" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:26:34">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c2" />
  <dataField fieldName="PasswordQuestion" />
  <move>
    <controller name="Users" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="PasswordAnswer" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:26:43">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c3" />
  <move>
    <controller name="Users" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="CreationDate" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:26:47">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c3" />
  <dataField fieldName="CreationDate" />
  <move>
    <controller name="Users" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="LastLoginDate" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:26:50">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c3" />
  <dataField fieldName="LastLoginDate" />
  <move>
    <controller name="Users" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="LastActivityDate" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:26:52">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c3" />
  <dataField fieldName="LastActivityDate" />
  <move>
    <controller name="Users" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="LastPasswordChangedDate" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:26:55">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c3" />
  <dataField fieldName="LastPasswordChangedDate" />
  <move>
    <controller name="Users" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="LastLockedOutDate" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:27:03">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="FailedPasswordAnswerAttemptCount" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:27:03">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="FailedPasswordAnswerAttemptWindowStart" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:27:03">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="FailedPasswordAttemptCount" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:27:03">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="FailedPasswordAttemptWindowStart" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:27:18">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <HeaderText>User</HeaderText>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-18T13:27:35">
  <controller name="Users" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Customer</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-18T13:27:42">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c4" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="CustomerID" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:27:47">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="Users" />
    <view id="editForm1" />
    <category id="c4" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:27:49">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="Users" />
    <view id="editForm1" />
    <category id="c4" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:27:52">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c4" />
  <move>
    <controller name="Users" />
    <view id="editForm1" />
    <category id="c2" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:28:00">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c2" />
  <update>
    <NewColumn>true</NewColumn>
  </update>
</c><c y="NodeSet" t="2016-05-18T13:28:09">
  <controller name="Users" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="IsLockedOut" />
  <move>
    <controller name="Users" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="Comment" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:28:25">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c1" />
  <update>
    <HeaderText>New User</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T13:28:46">
  <controller name="Users" />
  <view id="createForm1" />
  <insert type="category">
    <HeaderText>Customer</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-18T13:28:52">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c1" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c4" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:28:58">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c4" />
  <move>
    <controller name="Users" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="CustomerID" />
  </move>
</c><c y="NodeSet" t="2016-05-18T13:30:54">
  <controller name="Users" />
  <field name="LastActivityDate" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-18T13:31:01">
  <controller name="Users" />
  <field name="LastLoginDate" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-18T13:31:06">
  <controller name="Users" />
  <field name="LastPasswordChangedDate" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-18T13:31:12">
  <controller name="Users" />
  <field name="CreationDate" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-18T13:31:19">
  <controller name="Users" />
  <field name="LastLockedOutDate" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-05-18T13:32:19">
  <controller name="Users" />
  <view id="editForm1" />
  <dataField fieldName="PasswordAnswer" />
  <update>
    <TextMode>Password</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-18T13:32:50">
  <controller name="Users" />
  <view id="createForm1" />
  <dataField fieldName="PasswordAnswer" />
  <update>
    <TextMode>Password</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-18T13:33:03">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c3" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T13:35:44">
  <controller name="Users" />
  <view id="editForm1" />
  <update>
    <Label>User</Label>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T13:35:58">
  <controller name="Users" />
  <view id="createForm1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T13:36:04">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c1" />
  <update>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-18T13:38:11">
  <controller name="Users" />
  <field name="CustomerID" />
  <update>
    <Label>Customer</Label>
    <ItemsStyle>Lookup</ItemsStyle>
    <ItemsDataController>Customer</ItemsDataController>
    <ItemsDataView>grid1</ItemsDataView>
    <ItemsDataValueField>CustomerName</ItemsDataValueField>
    <ItemsDataTextField>CustomerID</ItemsDataTextField>
  </update>
</c><c y="NodeSet" t="2016-05-18T13:51:23">
  <controller name="Users" />
  <field name="CustomerID" />
  <update>
    <ItemsDataValueField>CustomerID</ItemsDataValueField>
    <ItemsDataTextField>CustomerName</ItemsDataTextField>
  </update>
</c><c y="NodeSet" t="2016-05-18T13:58:40">
  <controller name="Roles" />
  <view id="grid1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T13:58:52">
  <controller name="Roles" />
  <view id="editForm1" />
  <update>
    <Label>Roles</Label>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T13:59:09">
  <controller name="Roles" />
  <view id="createForm1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T13:59:41">
  <controller name="Roles" />
  <view id="createForm1" />
  <category id="c1" />
  <update>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-18T14:01:20">
  <controller name="Roles" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-18T14:01:35">
  <controller name="UserRoles" />
  <view id="grid1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T14:01:51">
  <controller name="UserRoles" />
  <view id="editForm1" />
  <update>
    <Label>User Roles</Label>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T14:01:56">
  <controller name="UserRoles" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-18T14:02:12">
  <controller name="UserRoles" />
  <view id="createForm1" />
  <update>
    <Label>User Role</Label>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T14:02:21">
  <controller name="UserRoles" />
  <view id="createForm1" />
  <category id="c1" />
  <update>
    <HeaderText>User Role</HeaderText>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-18T14:02:26">
  <controller name="UserRoles" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <HeaderText>User Role</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:02:31">
  <controller name="UserRoles" />
  <view id="editForm1" />
  <update>
    <Label>User Role</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:02:50">
  <controller name="UserRoles" />
  <actionGroup id="ag1" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:03:10">
  <controller name="UserRoles" />
  <actionGroup id="ag5" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:03:10">
  <controller name="UserRoles" />
  <actionGroup id="ag5" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:03:10">
  <controller name="UserRoles" />
  <actionGroup id="ag5" />
  <action id="a5" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:03:10">
  <controller name="UserRoles" />
  <actionGroup id="ag5" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:04:51">
  <controller name="UserRoles" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <HeaderText>User Roles</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:05:07">
  <controller name="UserRoles" />
  <view id="editForm1" />
  <update>
    <Label>User Roles</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:07:49">
  <controller name="Users" />
  <view id="grid1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T14:08:01">
  <controller name="Users" />
  <view id="editForm1" />
  <update>
    <Label>Users</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:08:52">
  <controller name="Users" />
  <view id="createForm1" />
  <update>
    <Label>Users</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:09:20">
  <controller name="UserRoles" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <HeaderText>User Role</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:09:27">
  <controller name="UserRoles" />
  <view id="createForm1" />
  <update>
    <Label>User Roles</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:10:28">
  <controller name="Roles" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <HeaderText>Role</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:10:39">
  <controller name="Roles" />
  <view id="createForm1" />
  <category id="c1" />
  <update>
    <HeaderText>New Role</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:12:15">
  <controller name="UserRoles" />
  <view id="createForm1" />
  <category id="c1" />
  <update>
    <HeaderText>New User Role</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:20:31">
  <controller name="UserRoles" />
  <view id="createForm1" />
  <category id="c1" />
  <update>
    <HeaderText>User Role</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:22:58">
  <controller name="Roles" />
  <view id="createForm1" />
  <update>
    <Label>Roles</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:25:05">
  <controller name="Customer" />
  <view id="grid1" />
  <update>
    <Label>Customers</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:26:16">
  <controller name="Customer" />
  <view id="editForm1" />
  <update>
    <Label>Review Customer</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:26:55">
  <controller name="Customer" />
  <view id="editForm1" />
  <update>
    <Label>Customer</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:27:58">
  <controller name="UserRoles" />
  <view id="editForm1" />
  <update>
    <Label>Users</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:29:49">
  <controller name="UserRoles" />
  <view id="editForm1" />
  <update>
    <Label>Review User</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:30:01">
  <controller name="UserRoles" />
  <view id="editForm1" />
  <update>
    <Label>Review User Role</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:30:12">
  <controller name="UserRoles" />
  <view id="createForm1" />
  <update>
    <Label>New User Role</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:30:24">
  <controller name="Users" />
  <view id="editForm1" />
  <update>
    <Label>Review User</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:30:31">
  <controller name="Users" />
  <view id="createForm1" />
  <update>
    <Label>New User</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:30:37">
  <controller name="Users" />
  <view id="createForm1" />
  <category id="c1" />
  <update>
    <HeaderText>User</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:31:08">
  <controller name="Roles" />
  <view id="editForm1" />
  <update>
    <Label>Review Role</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:31:28">
  <controller name="Roles" />
  <view id="createForm1" />
  <update>
    <Label>New Role</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:32:25">
  <controller name="Roles" />
  <view id="grid1" />
  <update>
    <Label>Role</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:33:38">
  <controller name="Roles" />
  <actionGroup id="ag1" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:33:51">
  <controller name="Roles" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <update>
    <CommandArgument>createForm1</CommandArgument>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:35:43">
  <controller name="Roles" />
  <actionGroup id="ag5" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:35:43">
  <controller name="Roles" />
  <actionGroup id="ag5" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:35:43">
  <controller name="Roles" />
  <actionGroup id="ag5" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:35:43">
  <controller name="Roles" />
  <actionGroup id="ag5" />
  <action id="a5" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:35:43">
  <controller name="Roles" />
  <actionGroup id="ag5" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:35:43">
  <controller name="Roles" />
  <actionGroup id="ag5" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:35:43">
  <controller name="Roles" />
  <actionGroup id="ag5" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:36:31">
  <controller name="Users" />
  <actionGroup id="ag1" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:36:40">
  <controller name="Users" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <update>
    <CommandArgument>createForm1</CommandArgument>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:37:09">
  <controller name="Users" />
  <actionGroup id="ag5" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:37:09">
  <controller name="Users" />
  <actionGroup id="ag5" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:37:09">
  <controller name="Users" />
  <actionGroup id="ag5" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:37:09">
  <controller name="Users" />
  <actionGroup id="ag5" />
  <action id="a5" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:37:09">
  <controller name="Users" />
  <actionGroup id="ag5" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:37:09">
  <controller name="Users" />
  <actionGroup id="ag5" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:37:09">
  <controller name="Users" />
  <actionGroup id="ag5" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:37:33">
  <controller name="UserRoles" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <update>
    <CommandArgument>createForm1</CommandArgument>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:37:56">
  <controller name="UserRoles" />
  <actionGroup id="ag5" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:37:56">
  <controller name="UserRoles" />
  <actionGroup id="ag5" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:37:56">
  <controller name="UserRoles" />
  <actionGroup id="ag5" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:38:33">
  <controller name="Customer" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <update>
    <CommandArgument>createForm1</CommandArgument>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:39:19">
  <controller name="Company" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <update>
    <CommandArgument>createForm1</CommandArgument>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:40:06">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag1" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:40:16">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <update>
    <CommandArgument>createForm1</CommandArgument>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:40:36">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag5" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:40:36">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag5" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:40:36">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag5" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:40:36">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag5" />
  <action id="a5" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:40:36">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag5" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:40:36">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag5" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:40:36">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag5" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:44:51">
  <controller name="Users" />
  <actionGroup id="ag3" />
  <insert type="action">
    <CommandName>SQL</CommandName>
    <HeaderText>Test</HeaderText>
    <CausesValidation>true</CausesValidation>
    <Data>SELECT 1</Data>
  </insert>
</c><c y="NodeSet" t="2016-05-18T14:45:32">
  <controller name="Users" />
  <actionGroup id="ag3" />
  <insert type="action">
    <CommandName>New</CommandName>
    <CommandArgument>createForm1</CommandArgument>
    <CausesValidation>true</CausesValidation>
  </insert>
</c><c y="NodeSet" t="2016-05-18T14:45:56">
  <controller name="Users" />
  <actionGroup id="ag3" />
  <action id="a101" />
  <update>
    <CssClass>NewIcon</CssClass>
  </update>
</c><c y="NodeSet" t="2016-05-18T14:46:32">
  <controller name="Users" />
  <actionGroup id="ag3" />
  <action id="a101" />
  <update>
    <HeaderText>New User</HeaderText>
    <CssClass />
  </update>
</c><c y="NodeSet" t="2016-05-18T14:47:07">
  <controller name="Users" />
  <actionGroup id="ag3" />
  <action id="a100" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T14:53:45">
  <controller name="Users" />
  <actionGroup id="ag3" />
  <action id="a101" />
  <delete />
</c><c y="NodeSet" t="2016-05-18T17:59:03">
  <controller name="Roles" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <update>
    <HeaderText>New Row</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T17:59:19">
  <controller name="Roles" />
  <view id="grid1" />
  <update>
    <Label>Roles</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T17:59:29">
  <controller name="Roles" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <update>
    <HeaderText>New Role</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T17:59:56">
  <controller name="Roles" />
  <actionGroup id="ag3" />
  <action id="a1" />
  <update>
    <HeaderText>New Role</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:01:53">
  <controller name="Users" />
  <actionGroup id="ag3" />
  <action id="a1" />
  <update>
    <HeaderText>New User</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:05:05">
  <controller name="Roles" />
  <actionGroup id="ag3" />
  <action id="a1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-18T18:06:27">
  <controller name="Roles" />
  <actionGroup id="ag3" />
  <action id="a1" />
  <update>
    <HeaderText>New Role</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:08:08">
  <controller name="Users" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <update>
    <HeaderText>New User</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:09:22">
  <controller name="Company" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <update>
    <HeaderText>New Company</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:09:33">
  <controller name="Company" />
  <actionGroup id="ag3" />
  <action id="a1" />
  <update>
    <HeaderText>New Company</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:11:30">
  <controller name="Company" />
  <view id="editForm1" />
  <update>
    <Label>Review Company</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:13:27">
  <controller name="Customer" />
  <actionGroup id="ag3" />
  <action id="a1" />
  <update>
    <HeaderText>New Customer</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:13:52">
  <controller name="Customer" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <update>
    <HeaderText>New Customer</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:14:09">
  <controller name="Customer" />
  <view id="editForm1" />
  <update>
    <Label>Review Customer</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:14:24">
  <controller name="Customer" />
  <view id="createForm1" />
  <category id="c1" />
  <update>
    <HeaderText>Customer</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:15:12">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <update>
    <Label>Review Consignment Stock</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:16:46">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <update>
    <HeaderText>New Usage</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:17:01">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag3" />
  <action id="a1" />
  <update>
    <HeaderText>New Usage</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:18:29">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <update>
    <Label>Review Consignment Usage</Label>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:33:32">
  <controller name="Roles" />
  <actionGroup id="ag2" />
  <action id="a13" />
  <update>
    <CommandName>New</CommandName>
    <CommandArgument>createForm1</CommandArgument>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:34:49">
  <controller name="Roles" />
  <actionGroup id="ag2" />
  <copy>
    <controller name="Roles" />
    <actionGroup id="ag2" />
    <action id="a13" />
  </copy>
</c><c y="NodeSet" t="2016-05-18T18:35:20">
  <controller name="Roles" />
  <actionGroup id="ag2" />
  <action id="a100" />
  <update>
    <CommandName>Select</CommandName>
    <CommandArgument>editForm1</CommandArgument>
    <WhenLastCommandName>Update</WhenLastCommandName>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:37:15">
  <controller name="Roles" />
  <actionGroup id="ag2" />
  <action id="a100" />
  <update>
    <WhenClientScript />
  </update>
</c><c y="NodeSet" t="2016-05-18T18:37:47">
  <controller name="Roles" />
  <actionGroup id="ag2" />
  <action id="a13" />
  <update>
    <WhenClientScript />
  </update>
</c><c y="NodeSet" t="2016-05-18T18:39:55">
  <controller name="Roles" />
  <actionGroup id="ag2" />
  <action id="a100" />
  <update>
    <WhenKeySelected>false</WhenKeySelected>
  </update>
</c><c y="NodeSet" t="2016-05-18T18:41:36">
  <controller name="Roles" />
  <actionGroup id="ag2" />
  <action id="a13" />
  <update>
    <CommandName>Select</CommandName>
    <CommandArgument>editForm1</CommandArgument>
  </update>
</c><c y="NodeSet" t="2016-05-19T08:05:28">
  <controller name="ConsignmentUsage" />
  <rule id="r104" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsingmentUsage.ConsignmentUsageID &lt;&gt; @ConsignmentUsageID
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'
	  SET @BusinessRules_PreventDefault = 1
    END
	
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = ProductID
    FROM
	  tConsignmentStock
    WHERE
	  tConsignmentStock.CustomerID = @CustomerID and
	  tConsignmentStock.PacketNo = @PacketNo	  
  
    IF @ExistingPacketNo IS NULL and @Success = 1
	BEGIN	  	   
	  SET @Errors = 'Packet is not on consignment'	  
	END
	ELSE
	BEGIN
		SET @ProductID = @ExistingProductID
		SET @InStock = 1
    END	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-19T08:06:17">
  <controller name="ConsignmentUsage" />
  <rule id="r104" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; @ConsignmentUsageID
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'
	  SET @BusinessRules_PreventDefault = 1
    END
	
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = ProductID
    FROM
	  tConsignmentStock
    WHERE
	  tConsignmentStock.CustomerID = @CustomerID and
	  tConsignmentStock.PacketNo = @PacketNo	  
  
    IF @ExistingPacketNo IS NULL and @Success = 1
	BEGIN	  	   
	  SET @Errors = 'Packet is not on consignment'	  
	END
	ELSE
	BEGIN
		SET @ProductID = @ExistingProductID
		SET @InStock = 1
    END	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-19T08:16:10">
  <controller name="ConsignmentUsage" />
  <rule id="r104" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; @ConsignmentUsageID
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'
	  SET @BusinessRules_PreventDefault = 1
    END
	
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = ProductID,
	  @ExistingProductName = ProductName
    FROM
	  	tConsignmentStock
	INNER JOIN
		tProduct
	ON
		tProduct.ProductID = tConsignmentStock.ProductID
    WHERE
	  tConsignmentStock.CustomerID = @CustomerID and
	  tConsignmentStock.PacketNo = @PacketNo	  
  
    IF @ExistingPacketNo IS NULL and @Success = 1
	BEGIN	  	   
	  SET @Errors = 'Packet is not on consignment'	  
	END
	ELSE
	BEGIN
		SET @ProductID = @ExistingProductID
		SET @ProductName = @ExistingProductName
		SET @InStock = 1
    END	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-19T08:19:26">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; @ConsignmentUsageID
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  	SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-19T08:22:56">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; @ConsignmentUsageID
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  	SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-19T08:23:31">
  <controller name="ConsignmentUsage" />
  <rule id="r104" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = ''
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; @ConsignmentUsageID
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'
	  SET @BusinessRules_PreventDefault = 1
    END
	
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = tConsignmentStock.ProductID,
	  @ExistingProductName = ProductName
    FROM
	  	tConsignmentStock
	INNER JOIN
		tProduct
	ON
		tProduct.ProductID = tConsignmentStock.ProductID
    WHERE
	  tConsignmentStock.CustomerID = @CustomerID and
	  tConsignmentStock.PacketNo = @PacketNo	  
  
    IF @ExistingPacketNo IS NULL and @Success = 1
	BEGIN	  	   
	  SET @Errors = 'Packet is not on consignment'	  
	END
	ELSE
	BEGIN
		SET @ProductID = @ExistingProductID
		SET @ProductName = @ExistingProductName
		SET @InStock = 1
    END	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-19T08:27:30">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a13" />
  <update>
    <WhenView />
    <WhenClientScript />
  </update>
</c><c y="NodeSet" t="2016-05-19T08:28:17">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a13" />
  <update>
    <CommandName>New</CommandName>
    <CommandArgument>createForm1</CommandArgument>
  </update>
</c><c y="NodeSet" t="2016-05-19T09:00:01">
  <controller name="ConsignmentStock" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Roles>Consignment Edit</Roles>
  </update>
</c><c y="NodeSet" t="2016-05-19T09:00:34">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Roles>Consignment Edit</Roles>
  </update>
</c><c y="NodeSet" t="2016-05-19T09:44:40">
  <controller name="ConsignmentStockDashboard" />
  <actionGroup id="ag3" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T09:44:44">
  <controller name="ConsignmentStockDashboard" />
  <actionGroup id="ag4" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T09:44:54">
  <controller name="ConsignmentStockDashboard" />
  <actionGroup id="ag5" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T09:44:54">
  <controller name="ConsignmentStockDashboard" />
  <actionGroup id="ag5" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T09:44:54">
  <controller name="ConsignmentStockDashboard" />
  <actionGroup id="ag5" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T09:44:54">
  <controller name="ConsignmentStockDashboard" />
  <actionGroup id="ag5" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T09:44:54">
  <controller name="ConsignmentStockDashboard" />
  <actionGroup id="ag5" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T09:45:18">
  <controller name="ConsignmentStockDashboard" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T09:45:18">
  <controller name="ConsignmentStockDashboard" />
  <actionGroup id="ag1" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T09:45:18">
  <controller name="ConsignmentStockDashboard" />
  <actionGroup id="ag1" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T09:45:18">
  <controller name="ConsignmentStockDashboard" />
  <actionGroup id="ag1" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T09:45:18">
  <controller name="ConsignmentStockDashboard" />
  <actionGroup id="ag1" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T09:45:40">
  <controller name="ConsignmentStockDashboard" />
  <view id="createForm1" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T09:45:50">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="CustomerID" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T09:45:54">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="Pieces" />
  <after>
    <controller name="ConsignmentStockDashboard" />
    <view id="grid1" />
    <dataField fieldName="CategoryCode" />
  </after>
</c><c y="NodeSet" t="2016-05-19T09:50:07">
  <controller name="ConsignmentStockDashboard" />
  <field name="Pieces" />
  <update>
    <Type>Decimal</Type>
  </update>
</c><c y="NodeSet" t="2016-05-19T09:50:19">
  <controller name="ConsignmentStockDashboard" />
  <field name="Packets" />
  <update>
    <Type>Decimal</Type>
  </update>
</c><c y="NodeSet" t="2016-05-19T09:57:00">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <update>
    <Tag>pivot1-row1-column </Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:00:48">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="Packets" />
  <update>
    <Tag> pivot1-val1-sum</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:03:59">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <update>
    <Tag>pivot1-row1-column 
pivot2-row2-column</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:06:20">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="Length" />
  <update>
    <Tag>pivot2-col1</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:06:40">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="Packets" />
  <update>
    <Tag> pivot1-val1-sum
pivot2-val1-sum</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:06:52">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <update>
    <Tag>pivot1-row1-column 
pivot2-row2-columnstacked</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:15:08">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <update>
    <Tag>pivot1-row1-column 
pivot1-title:"Packets By Category"
pivot2-row2-columnstacked
pivot2-title:"Packets By Category And Length"</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:21:40">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <update>
    <SortExpression>CategoryName, Width, Thickness, Length</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:27:32">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <update>
    <SortExpression>ProductCategoryName, ProductWidth, ProductThickness, ProductLength</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:28:45">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <update>
    <SortExpression />
  </update>
</c><c y="NodeSet" t="2016-05-19T10:29:54">
  <controller name="ConsignmentStockDashboard" />
  <actionGroup id="ag2" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T10:29:54">
  <controller name="ConsignmentStockDashboard" />
  <actionGroup id="ag2" />
  <action id="a1" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T10:30:36">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <update>
    <SortExpression>CategoryName, ProductWidth, ProductThickness, ProductLength</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:31:14">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <update>
    <SortExpression>CategoryName</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:32:35">
  <controller name="ConsignmentStockDashboard" />
  <field name="ProductLength" />
  <update>
    <Label>Length</Label>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:32:42">
  <controller name="ConsignmentStockDashboard" />
  <field name="ProductThickness" />
  <update>
    <Label>Thickness</Label>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:32:48">
  <controller name="ConsignmentStockDashboard" />
  <field name="ProductWidth" />
  <update>
    <Label>Width</Label>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:33:35">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <update>
    <HeaderText />
    <FilterExpression>CategoryName, ProductWidth, ProductThickness, ProductLength</FilterExpression>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:34:17">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <update>
    <FilterExpression />
  </update>
</c><c y="NodeSet" t="2016-05-19T10:34:59">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <update>
    <SortExpression>CategoryName, ProductWidth</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:35:35">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <update>
    <SortExpression>CategoryName, ProductWidth, ProductThickness</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:35:49">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="Pieces" />
  <after>
    <controller name="ConsignmentStockDashboard" />
    <view id="grid1" />
    <dataField fieldName="ProductCategoryCode" />
  </after>
</c><c y="NodeSet" t="2016-05-19T10:37:23">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <update>
    <SortExpression>CategoryName, ProductWidth, ProductThickness, ProductLength</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:50:56">
  <controller name="ConsignmentUsage" />
  <rule id="r104" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = NULL
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; @ConsignmentUsageID
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'
	  SET @BusinessRules_PreventDefault = 1
    END
	
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = tConsignmentStock.ProductID,
	  @ExistingProductName = ProductName
    FROM
	  	tConsignmentStock
	INNER JOIN
		tProduct
	ON
		tProduct.ProductID = tConsignmentStock.ProductID
    WHERE
	  tConsignmentStock.CustomerID = @CustomerID and
	  tConsignmentStock.PacketNo = @PacketNo	  
  
    IF @ExistingPacketNo IS NULL and @Success = 1
	BEGIN	  	   
	  SET @Errors = 'Packet is not on consignment'	  
	END
	ELSE
	BEGIN
		SET @ProductID = @ExistingProductID
		SET @ProductName = @ExistingProductName
		SET @InStock = 1
    END	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-19T10:51:05">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; @ConsignmentUsageID
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  	SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:03:57">
  <controller name="ConsignmentUsageDashboard" />
  <view id="createForm1" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:10">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:10">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag1" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:10">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag1" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:10">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag1" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:10">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag1" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:20">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag2" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:20">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag2" />
  <action id="a1" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:28">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag3" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:32">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag4" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:49">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag5" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:49">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag5" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:49">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag5" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:49">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag5" />
  <action id="a5" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:49">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag5" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:49">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag5" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:04:49">
  <controller name="ConsignmentUsageDashboard" />
  <actionGroup id="ag5" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:08:06">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-19T11:08:56">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="Packets" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="grid1" />
    <dataField fieldName="ProductCategoryCode" />
  </move>
</c><c y="NodeSet" t="2016-05-19T11:09:03">
  <controller name="ConsignmentUsageDashboard" />
  <field name="Packets" />
  <update>
    <Type>Decimal</Type>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:09:52">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <update>
    <SortExpression>ConsumedOn Desc, CategoryName, ProductWidth, ProductThickness, ProductLength</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:10:52">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="grid1" />
    <dataField fieldName="ConsumedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-19T11:10:55">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="grid1" />
    <dataField fieldName="ConsumedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-19T11:10:57">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="grid1" />
    <dataField fieldName="CategoryName" />
  </move>
</c><c y="NodeSet" t="2016-05-19T11:11:09">
  <controller name="ConsignmentUsageDashboard" />
  <field name="ProductWidth" />
  <update>
    <Label>Width</Label>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:11:16">
  <controller name="ConsignmentUsageDashboard" />
  <field name="ProductThickness" />
  <update>
    <Label>Thickness</Label>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:11:23">
  <controller name="ConsignmentUsageDashboard" />
  <field name="ProductLength" />
  <update>
    <Label>Length</Label>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:11:41">
  <controller name="ConsignmentUsageDashboard" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-19T11:11:57">
  <controller name="ConsignmentStockDashboard" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="ProductCategoryCode" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:12:03">
  <controller name="ConsignmentUsageDashboard" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="ProductCategoryCode" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:12:21">
  <controller name="ConsignmentUsageDashboard" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="CategoryName" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ConsumedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-19T11:12:23">
  <controller name="ConsignmentUsageDashboard" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="CategoryName" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ConsumedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-19T11:12:25">
  <controller name="ConsignmentUsageDashboard" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="CategoryName" />
  </move>
</c><c y="NodeSet" t="2016-05-19T11:16:41">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="ProductCategoryCode" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:16:44">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="ProductWidth" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:16:48">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="ProductThickness" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:16:52">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="ProductLength" />
  <delete />
</c><c y="NodeSet" t="2016-05-19T11:17:24">
  <controller name="ConsignmentUsage" />
  <field name="ProductWidth" />
  <update>
    <Label>Width</Label>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:17:33">
  <controller name="ConsignmentUsage" />
  <field name="ProductThickness" />
  <update>
    <Label>Thickness</Label>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:17:41">
  <controller name="ConsignmentUsage" />
  <field name="ProductLength" />
  <update>
    <Label>Length</Label>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:17:50">
  <controller name="ConsignmentUsage" />
  <field name="ProductCategoryCode" />
  <update>
    <Label>Category Code</Label>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:22:49">
  <controller name="ConsignmentUsageDashboard" />
  <view id="editForm1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-19T11:29:29">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-row1-year-column
pivot1-row2-quarter-all
pivot1-title:"Packets Consumed By Date"

</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:29:56">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="Packets" />
  <update>
    <Tag>pivot1-val1-sum</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:32:06">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-row1-year-column
pivot1-row2-quarter-all
pivot1-title:"Packets Consumed By Date"
pivot2-row1-year-column
pivot2-row2-quarter-all
pivot2-title:"Packets Consumed By Date and Category"

</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:32:33">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <update>
    <SearchOptions>pivot2-col1</SearchOptions>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:39:09">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-row1-year-column
pivot1-row2-quarter-all
pivot1-title:"Packets Consumed By Date"
pivot2-row1-year-columnstacked
pivot2-row2-quarter-all
pivot2-title:"Packets Consumed By Date and Category"

</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:40:45">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ProductLength" />
  <update>
    <Tag>Pivot2-col1</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:41:39">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ProductLength" />
  <update>
    <Tag />
  </update>
</c><c y="NodeSet" t="2016-05-19T11:41:55">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="ProductLength" />
  <update>
    <Tag>pivot2-col1</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:43:21">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-row1-year-column
pivot1-row2-quarter-all
pivot1-title:"Packets Consumed By Date"
pivot2-row1-columnstacked-date
pivot2-title:"Packets Consumed By Date and Category"

</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:45:29">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <update>
    <Tag>pivot1-row1-column 
pivot1-title:"Packets By Category"
pivot2-row1-columnstacked
pivot2-title:"Packets By Category And Length"</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:46:48">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-row1-year-column
pivot1-row2-quarter-all
pivot1-title:"Packets Consumed By Date"
pivot2-row1-columnstacked-date
pivot2-title:"Packets Consumed By Date and Category"

</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:47:42">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-row1-year-column
pivot1-row2-quarter-all
pivot1-title:"Packets Consumed By Date"
pivot2-row1-columnstacked-date


</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:48:49">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="Packets" />
  <update>
    <Tag>pivot1-val1-sum
pivot2-val1-sum</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:50:21">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ProductLength" />
  <update>
    <Tag>pivot2-row1-columnstacked</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:50:31">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-row1-year-column
pivot1-row2-quarter-all
pivot1-title:"Packets Consumed By Date"



</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:52:06">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <update>
    <Tag>pivot2-col1</Tag>
    <SearchOptions />
  </update>
</c><c y="NodeSet" t="2016-05-19T11:52:33">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-row1-year-column
pivot1-row2-quarter-all
pivot1-title:"Packets Consumed By Date"
pivot2-row1-columnstacked-date



</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:52:43">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ProductLength" />
  <update>
    <Tag />
  </update>
</c><c y="NodeSet" t="2016-05-19T11:54:42">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-row1-year-columnstacked
pivot1-row2-quarter-all
pivot2-row1-columnstacked-date



</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:55:31">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-row1-year-columnstacked
pivot1-row2-quarter-all
pivot2-row1-columnstacked-date



</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:56:26">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-row1-year-columnstacked
pivot1-row2-quarter-all
pivot2-row1-year-columnstacked
pivot2-row2-week-all



</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:56:50">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <update>
    <Tag>pivot1-col1
pivot2-col1</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T11:59:39">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <update>
    <Tag>pivot1-row1-column 
pivot2-row1-columnstacked
</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T12:00:46">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <update>
    <Tag>pivot1-col1
pivot2-col1
pivot3-columnstacked</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T12:01:09">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="Packets" />
  <update>
    <Tag>pivot1-val1-sum
pivot2-val1-sum
pivot3-val1-sum</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T12:05:01">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <update>
    <Tag>pivot1-col1
pivot2-col1
pivot3-pie</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T12:05:51">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <update>
    <Tag>pivot1-col1
pivot2-col1
pivot3-pie-row1</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-19T12:15:45">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <update>
    <FilterExpression>[ConsumedOn]&gt;=GetDate()-7</FilterExpression>
  </update>
</c><c y="NodeSet" t="2016-05-19T12:17:52">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <update>
    <FilterExpression>SentOn IS NULL</FilterExpression>
  </update>
</c><c y="NodeSet" t="2016-05-19T12:18:04">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <update>
    <Label>Consignment Usage Not Sent</Label>
  </update>
</c><c y="NodeSet" t="2016-05-19T12:19:26">
  <controller name="ConsignmentUsage" />
  <insert type="view">
    <ViewId>gridSent</ViewId>
    <Type>Grid</Type>
    <Legend>false</Legend>
    <CommandId>command1</CommandId>
    <Label>Consignment Usage Sent</Label>
    <ShowInSelector>true</ShowInSelector>
    <ReportTemplate>false</ReportTemplate>
  </insert>
</c><c y="NodeSet" t="2016-05-19T12:20:17">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <update>
    <FilterExpression>NOT SentOn IS NULL</FilterExpression>
  </update>
</c><c y="NodeSet" t="2016-05-19T12:20:30">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="ProductCategoryCode" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T12:20:30">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="SentOn" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T12:20:30">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="ProductWidth" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T12:20:30">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="ProductLength" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T12:20:30">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="ProductThickness" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T12:20:30">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="ProductID" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T12:20:30">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="PacketNo" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T12:20:30">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="ConsumedOn" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T12:20:30">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="Errors" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T12:20:30">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="InStock" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T12:21:20">
  <controller name="ConsignmentUsage" />
  <copy>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T12:21:35">
  <controller name="ConsignmentUsage" />
  <view id="v100" />
  <update>
    <Label>Consignment Usage Errors</Label>
  </update>
</c><c y="NodeSet" t="2016-05-19T12:21:49">
  <controller name="ConsignmentUsage" />
  <view id="v100" />
  <update>
    <FilterExpression>NOT Errors IS NULL</FilterExpression>
  </update>
</c><c y="NodeSet" t="2016-05-19T12:22:07">
  <controller name="ConsignmentUsage" />
  <view id="v100" />
  <rename>gridErrors</rename>
</c><c y="NodeSet" t="2016-05-19T12:22:14">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
  </move>
</c><c y="NodeSet" t="2016-05-19T12:22:18">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridErrors" />
  </move>
</c><c y="NodeSet" t="2016-05-19T12:51:03">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a1" />
  <update>
    <WhenClientScript>SentOn] == null</WhenClientScript>
  </update>
</c><c y="NodeSet" t="2016-05-19T12:52:32">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a1" />
  <update>
    <WhenClientScript>[SentOn] == null</WhenClientScript>
  </update>
</c><c y="NodeSet" t="2016-05-19T13:03:39">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a1" />
  <update>
    <WhenClientScript />
  </update>
</c><c y="NodeSet" t="2016-05-19T13:16:31">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <copy>
    <controller name="ConsignmentStockDashboard" />
    <field name="CustomerCustomerName" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T13:16:34">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <move>
    <controller name="ConsignmentStockDashboard" />
    <view id="grid1" />
    <dataField fieldName="CustomerCustomerName" />
  </move>
</c><c y="NodeSet" t="2016-05-19T13:16:38">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="CustomerCustomerName" />
  <move>
    <controller name="ConsignmentStockDashboard" />
    <view id="grid1" />
    <dataField fieldName="CategoryName" />
  </move>
</c><c y="NodeSet" t="2016-05-19T13:18:49">
  <controller name="ConsignmentStockDashboard" />
  <view id="editForm1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-19T13:18:55">
  <controller name="ConsignmentStockDashboard" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-19T13:19:44">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <copy>
    <controller name="ConsignmentUsageDashboard" />
    <field name="CustomerCustomerName" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T13:19:48">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="grid1" />
    <dataField fieldName="CustomerCustomerName" />
  </move>
</c><c y="NodeSet" t="2016-05-19T13:19:50">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="grid1" />
    <dataField fieldName="CustomerCustomerName" />
  </move>
</c><c y="NodeSet" t="2016-05-19T13:19:53">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="CustomerCustomerName" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="grid1" />
    <dataField fieldName="ConsumedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-19T13:20:14">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="CustomerCustomerName" />
  <update>
    <Rows />
  </update>
</c><c y="NodeSet" t="2016-05-19T13:20:30">
  <controller name="ConsignmentUsageDashboard" />
  <view id="editForm1" />
  <copy>
    <controller name="ConsignmentUsageDashboard" />
    <view id="grid1" />
    <dataField fieldName="CustomerCustomerName" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T13:20:32">
  <controller name="ConsignmentUsageDashboard" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="CustomerCustomerName" />
  </move>
</c><c y="NodeSet" t="2016-05-19T13:20:58">
  <controller name="ConsignmentUsageDashboard" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Customer</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-19T13:21:01">
  <controller name="ConsignmentUsageDashboard" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="CustomerCustomerName" />
  </move>
</c><c y="NodeSet" t="2016-05-19T13:21:09">
  <controller name="ConsignmentUsageDashboard" />
  <view id="editForm1" />
  <category id="c2" />
  <update>
    <NewColumn>true</NewColumn>
  </update>
</c><c y="NodeSet" t="2016-05-19T13:21:29">
  <controller name="ConsignmentStockDashboard" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Customer</HeaderText>
    <NewColumn>true</NewColumn>
  </insert>
</c><c y="NodeSet" t="2016-05-19T13:21:37">
  <controller name="ConsignmentStockDashboard" />
  <view id="editForm1" />
  <copy>
    <controller name="ConsignmentStockDashboard" />
    <view id="grid1" />
    <dataField fieldName="CustomerCustomerName" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T13:31:19">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <copy>
    <controller name="ConsignmentStock" />
    <field name="CustomerID" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T13:31:40">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="CustomerID" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-19T13:37:54">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="CustomerID" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T13:38:03">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="CustomerID" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-19T14:00:33">
  <controller name="ConsignmentUsage" />
  <insert type="field">
    <Name>WidthAndThickness</Name>
    <Type>String</Type>
    <AllowNulls>false</AllowNulls>
    <IsPrimaryKey>false</IsPrimaryKey>
    <Computed>true</Computed>
    <Formula>Cast([ProductWidth] as nvarchar(10)) + Cast([ProductThickness] as nvarchar(10))</Formula>
    <Calculated>false</Calculated>
    <CausesCalculate>false</CausesCalculate>
    <OnDemand>false</OnDemand>
    <Hidden>false</Hidden>
    <Label>Width And Thickness</Label>
    <ReadOnly>false</ReadOnly>
    <ShowInSummary>false</ShowInSummary>
    <HtmlEncode>false</HtmlEncode>
    <FormatOnClient>true</FormatOnClient>
    <SearchOnStart>false</SearchOnStart>
    <AutoSelect>false</AutoSelect>
    <ItemsLetters>false</ItemsLetters>
    <AllowQBE>false</AllowQBE>
    <AllowSorting>false</AllowSorting>
    <AllowLEV>false</AllowLEV>
  </insert>
</c><c y="NodeSet" t="2016-05-19T14:02:05">
  <controller name="ConsignmentUsageDashboard" />
  <insert type="field">
    <Name>WidthAndThickness</Name>
    <Type>String</Type>
    <AllowNulls>false</AllowNulls>
    <IsPrimaryKey>false</IsPrimaryKey>
    <Computed>true</Computed>
    <Formula>Cast([ProductWidth] as nvarchar(10)) + Cast([ProductThickness] as nvarchar(10))</Formula>
    <Calculated>false</Calculated>
    <CausesCalculate>false</CausesCalculate>
    <OnDemand>false</OnDemand>
    <Hidden>false</Hidden>
    <Label>Width And Thickness</Label>
    <ReadOnly>false</ReadOnly>
    <ShowInSummary>false</ShowInSummary>
    <HtmlEncode>false</HtmlEncode>
    <FormatOnClient>true</FormatOnClient>
    <SearchOnStart>false</SearchOnStart>
    <AutoSelect>false</AutoSelect>
    <ItemsLetters>false</ItemsLetters>
    <AllowQBE>false</AllowQBE>
    <AllowSorting>false</AllowSorting>
    <AllowLEV>false</AllowLEV>
  </insert>
</c><c y="NodeSet" t="2016-05-19T14:03:46">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="WidthAndThickness" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T14:03:55">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="WidthAndThickness" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-19T14:07:13">
  <controller name="ConsignmentUsageDashboard" />
  <view id="editForm1" />
  <copy>
    <controller name="ConsignmentUsageDashboard" />
    <field name="WidthAndThickness" />
  </copy>
</c><c y="NodeSet" t="2016-05-19T14:09:06">
  <controller name="ConsignmentUsageDashboard" />
  <field name="WidthAndThickness" />
  <update>
    <Formula>Cast(Cast([ProductWidth] as int)) as nvarchar(10)) + Cast(Cast([ProductThickness] as int)) as nvarchar(10))</Formula>
  </update>
</c><c y="NodeSet" t="2016-05-19T14:09:59">
  <controller name="ConsignmentUsageDashboard" />
  <field name="WidthAndThickness" />
  <update>
    <Formula>Cast(Cast([ProductWidth] as int) as nvarchar(10)) + Cast(Cast([ProductThickness] as int) as nvarchar(10))</Formula>
  </update>
</c><c y="NodeSet" t="2016-05-19T14:10:32">
  <controller name="ConsignmentUsage" />
  <field name="WidthAndThickness" />
  <update>
    <Formula>CASE WHEN ProductID IS NULL THEN '' ELSE Cast(Cast([ProductWidth] as int) as nvarchar(10)) + Cast(Cast([ProductThickness] as int) as nvarchar(10)) END</Formula>
  </update>
</c><c y="NodeSet" t="2016-05-19T14:11:58">
  <controller name="ConsignmentUsage" />
  <field name="WidthAndThickness" />
  <update>
    <Formula>CASE WHEN tProduct.ProductID IS NULL THEN '' ELSE Cast(Cast([tProduct.Width] as int) as nvarchar(10)) + Cast(Cast([tProduct.Thickness] as int) as nvarchar(10)) END</Formula>
  </update>
</c><c y="NodeSet" t="2016-05-19T14:12:54">
  <controller name="ConsignmentUsage" />
  <field name="WidthAndThickness" />
  <update>
    <Formula>CASE WHEN Product.ProductID IS NULL THEN '' ELSE Cast(Cast([Product.Width] as int) as nvarchar(10)) + Cast(Cast([Product.Thickness] as int) as nvarchar(10)) END</Formula>
  </update>
</c><c y="NodeSet" t="2016-05-19T14:14:29">
  <controller name="ConsignmentUsage" />
  <field name="WidthAndThickness" />
  <update>
    <Formula>Cast([ProductWidth] as int) as nvarchar(10)) + Cast(Cast([ProductThickness] as int) as nvarchar(10)) </Formula>
  </update>
</c><c y="NodeSet" t="2016-05-19T14:15:26">
  <controller name="ConsignmentUsage" />
  <field name="WidthAndThickness" />
  <update>
    <Formula>Cast(Cast([ProductWidth] as int) as nvarchar(10)) + Cast(Cast([ProductThickness] as int) as nvarchar(10)) </Formula>
  </update>
</c><c y="NodeSet" t="2016-05-19T14:16:19">
  <controller name="ConsignmentUsage" />
  <field name="WidthAndThickness" />
  <update>
    <Formula>Cast(Cast([Width] as int) as nvarchar(10)) + Cast(Cast([Thickness] as int) as nvarchar(10)) </Formula>
  </update>
</c><c y="NodeSet" t="2016-05-19T14:28:44">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="CustomerCustomerName" />
  <update>
    <Rows />
  </update>
</c><c y="NodeSet" t="2016-05-19T14:29:16">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="Pieces" />
  <after>
    <controller name="ConsignmentStockDashboard" />
    <view id="grid1" />
    <dataField fieldName="CustomerCustomerName" />
  </after>
</c><c y="NodeSet" t="2016-05-19T14:29:42">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="Packets" />
  <after>
    <controller name="ConsignmentUsageDashboard" />
    <view id="grid1" />
    <dataField fieldName="CustomerCustomerName" />
  </after>
</c><c y="NodeSet" t="2016-05-20T09:26:30">
  <controller name="ConsignmentStockDashboard" />
  <field name="CustomerCustomerName" />
  <update>
    <Roles>Admins</Roles>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:27:03">
  <controller name="ConsignmentUsageDashboard" />
  <field name="CustomerCustomerName" />
  <update>
    <Roles>Admins</Roles>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:27:21">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="grid1" />
    <dataField fieldName="CustomerCustomerName" />
  </move>
</c><c y="NodeSet" t="2016-05-20T09:27:23">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="CustomerCustomerName" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="grid1" />
    <dataField fieldName="ConsumedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-20T09:28:24">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="CategoryName" />
  <move>
    <controller name="ConsignmentStockDashboard" />
    <view id="grid1" />
    <dataField fieldName="CustomerCustomerName" />
  </move>
</c><c y="NodeSet" t="2016-05-20T09:28:26">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="CustomerCustomerName" />
  <move>
    <controller name="ConsignmentStockDashboard" />
    <view id="grid1" />
    <dataField fieldName="CategoryName" />
  </move>
</c><c y="NodeSet" t="2016-05-20T09:28:46">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <dataField fieldName="ProductCategoryCode" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:28:50">
  <controller name="ConsignmentUsageDashboard" />
  <view id="editForm1" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="grid1" />
  </move>
</c><c y="NodeSet" t="2016-05-20T09:28:53">
  <controller name="ConsignmentUsageDashboard" />
  <view id="editForm1" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="grid1" />
  </move>
</c><c y="NodeSet" t="2016-05-20T09:28:55">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <move>
    <controller name="ConsignmentUsageDashboard" />
    <view id="editForm1" />
  </move>
</c><c y="NodeSet" t="2016-05-20T09:29:13">
  <controller name="ConsignmentUsageDashboard" />
  <view id="grid1" />
  <dataField fieldName="ProductCategoryCode" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:31:46">
  <controller name="ConsignmentUsageDashboard" />
  <field name="WidthAndThickness" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:32:02">
  <controller name="ConsignmentUsageDashboard" />
  <field name="ProductCategoryCode" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:32:27">
  <controller name="ConsignmentStockDashboard" />
  <field name="CategoryName" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:33:11">
  <controller name="ConsignmentStockDashboard" />
  <field name="CategoryName" />
  <update>
    <Hidden>false</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:33:22">
  <controller name="ConsignmentStockDashboard" />
  <field name="ProductCategoryCode" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:33:32">
  <controller name="ConsignmentStockDashboard" />
  <field name="ProductCategoryCode" />
  <move>
    <controller name="ConsignmentStockDashboard" />
    <field name="CustomerID" />
  </move>
</c><c y="NodeSet" t="2016-05-20T09:33:34">
  <controller name="ConsignmentStockDashboard" />
  <field name="CustomerID" />
  <move>
    <controller name="ConsignmentStockDashboard" />
    <field name="ProductCategoryCode" />
  </move>
</c><c y="NodeSet" t="2016-05-20T09:33:42">
  <controller name="ConsignmentStockDashboard" />
  <field name="CustomerID" />
  <move>
    <controller name="ConsignmentStockDashboard" />
    <field name="CustomerCustomerName" />
  </move>
</c><c y="NodeSet" t="2016-05-20T09:33:58">
  <controller name="ConsignmentStockDashboard" />
  <field name="CustomerCustomerName" />
  <update>
    <ShowInSummary>true</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:34:14">
  <controller name="ConsignmentStockDashboard" />
  <field name="ProductWidth" />
  <update>
    <ShowInSummary>true</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:34:19">
  <controller name="ConsignmentStockDashboard" />
  <field name="ProductThickness" />
  <update>
    <ShowInSummary>true</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:34:26">
  <controller name="ConsignmentStockDashboard" />
  <field name="ProductLength" />
  <update>
    <ShowInSummary>true</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:34:37">
  <controller name="ConsignmentStockDashboard" />
  <field name="Cube" />
  <update>
    <ShowInSummary>false</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:34:45">
  <controller name="ConsignmentStockDashboard" />
  <field name="Lineal" />
  <update>
    <ShowInSummary>false</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:35:08">
  <controller name="ConsignmentUsageDashboard" />
  <field name="CustomerCustomerName" />
  <update>
    <ShowInSummary>true</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:35:19">
  <controller name="ConsignmentUsageDashboard" />
  <field name="ProductWidth" />
  <update>
    <ShowInSummary>true</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:35:30">
  <controller name="ConsignmentUsageDashboard" />
  <field name="ProductThickness" />
  <update>
    <ShowInSummary>true</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:35:38">
  <controller name="ConsignmentUsageDashboard" />
  <field name="ProductLength" />
  <update>
    <ShowInSummary>true</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:39:23">
  <controller name="ConsignmentStockDashboard" />
  <update>
    <AllowAnnotations>true</AllowAnnotations>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:49:08">
  <controller name="ConsignmentStock" />
  <field name="ProductName" />
  <update>
    <ShowInSummary>true</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:50:05">
  <controller name="ConsignmentStock" />
  <field name="Lineal" />
  <update>
    <ShowInSummary>true</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:50:41">
  <controller name="ConsignmentUsage" />
  <field name="SentOn" />
  <update>
    <ShowInSummary>false</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:50:56">
  <controller name="ConsignmentUsage" />
  <field name="ProductName" />
  <update>
    <ShowInSummary>true</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:52:25">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <update>
    <Group>ConsignmentStock</Group>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:53:06">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <update>
    <Group />
  </update>
</c><c y="NodeSet" t="2016-05-20T09:53:39">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <update>
    <Type>Chart</Type>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:53:50">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <update>
    <Type>Chart</Type>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:54:25">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <update>
    <Type>Grid</Type>
  </update>
</c><c y="NodeSet" t="2016-05-20T09:54:31">
  <controller name="ConsignmentStockDashboard" />
  <view id="grid1" />
  <update>
    <Type>Grid</Type>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:04:56">
  <controller name="ConsignmentStock" />
  <field name="ProductCode" />
  <update>
    <ShowInSummary>true</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:05:06">
  <controller name="ConsignmentStock" />
  <field name="ProductCode" />
  <update>
    <ShowInSummary>false</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:07:00">
  <controller name="ConsignmentStock" />
  <field name="ProductID" />
  <update>
    <ShowInSummary>false</ShowInSummary>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:07:53">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductCategoryName" />
  <update>
    <Tag>pivot1-row1-column </Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:10:22">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductCategoryName" />
  <update>
    <Tag>pivot1-row1-column 
pivot2-row1-pie</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:11:18">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="PacketNo" />
  <update>
    <Tag>pivot1-val1-count
pivot2-val1-count</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:13:21">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductCategoryName" />
  <update>
    <Tag>pivot1-row1-column 
pivot2-row1-pie
pivot3-row1-column-top10</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:14:42">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductName" />
  <update>
    <Tag>pivot3-row2-bottom10</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:14:50">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductCategoryName" />
  <update>
    <Tag>pivot1-row1-column 
pivot2-row1-pie
pivot3-row1-column</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:15:48">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductCategoryName" />
  <update>
    <Tag>pivot1-row1-column 
pivot2-row1-pie
</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:16:09">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductName" />
  <update>
    <Tag>pivot3-row1-top10</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:16:29">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="PacketNo" />
  <update>
    <Tag>pivot1-val1-count
pivot2-val1-count
pivot3-val1-count</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:18:55">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductName" />
  <update>
    <Tag>pivot3-row1</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:19:22">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductName" />
  <update>
    <Tag>pivot3-row1-column-top10</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:20:13">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductName" />
  <update>
    <Tag>pivot3-row1-column-bottom10</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:22:42">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductName" />
  <update>
    <Tag>pivot3-row1-column-top10</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:24:15">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductName" />
  <update>
    <Tag>pivot3-row1-column-top10-sortdescbyvalue</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:28:08">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductName" />
  <update>
    <Tag>pivot3-row1-column-top10-sortascbyvalue</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:30:01">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="ProductName" />
  <update>
    <Tag>pivot3-row1-column-top20-sortascbyvalue</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:30:39">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="Pieces" />
  <update>
    <Tag>pivot3-val1-sum</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:30:50">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="PacketNo" />
  <update>
    <Tag>pivot1-val1-count
pivot2-val1-count
</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:32:06">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="Pieces" />
  <update>
    <Tag />
  </update>
</c><c y="NodeSet" t="2016-05-20T10:32:13">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="Cube" />
  <update>
    <Tag>pivot3-val1-sum</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:32:29">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="PacketNo" />
  <update>
    <Tag>pivot1-val1-count
pivot2-val1-count
pivot3-val2-count
</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:35:14">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="Pieces" />
  <update>
    <Tag>pivot3-val3-sum</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:35:23">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="Lineal" />
  <update>
    <Tag>pivot3-val4-sum</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:36:53">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="Lineal" />
  <update>
    <Tag />
  </update>
</c><c y="NodeSet" t="2016-05-20T10:37:04">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="Cube" />
  <update>
    <Tag />
  </update>
</c><c y="NodeSet" t="2016-05-20T10:37:12">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="Pieces" />
  <update>
    <Tag />
  </update>
</c><c y="NodeSet" t="2016-05-20T10:37:20">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="PacketNo" />
  <update>
    <Tag>pivot1-val1-count
pivot2-val1-count
pivot3-val1-count
</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:39:43">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-columnstacked-row1</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:40:35">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ProductID" />
  <update>
    <Tag>pivot1-col1</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:40:50">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="PacketNo" />
  <update>
    <Tag>pivot1-val1-count</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:43:47">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-row1-columnstacked-date</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:44:11">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ProductID" />
  <update>
    <Tag />
  </update>
</c><c y="NodeSet" t="2016-05-20T10:44:24">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ProductCategoryCode" />
  <update>
    <Tag>pivot1-col1</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:46:27">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-row1-columnstacked-date</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:46:53">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="ProductCategoryCode" />
  <update>
    <Tag>pivot1-row1</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:47:08">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="PacketNo" />
  <update>
    <Tag>pivot1-val1-count</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:48:38">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="ProductCategoryCode" />
  <update>
    <Tag>pivot1-col11</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:51:14">
  <controller name="ConsignmentUsage" />
  <field name="ProductCategoryName" />
  <update>
    <Label>Category Name</Label>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:51:26">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="ProductCategoryName" />
  </copy>
</c><c y="NodeSet" t="2016-05-20T10:51:37">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="ProductCategoryCode" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="grid1" />
    <dataField fieldName="ProductCategoryName" />
  </move>
</c><c y="NodeSet" t="2016-05-20T10:51:53">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="ProductCategoryCode" />
  <update>
    <Tag />
  </update>
</c><c y="NodeSet" t="2016-05-20T10:51:59">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="ProductCategoryName" />
  <update>
    <Tag>pivot1-col11</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:52:15">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="ProductCategoryCode" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:52:35">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="ProductCategoryName" />
  <delete />
</c><c y="NodeSet" t="2016-05-20T10:56:08">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="ProductCategoryName" />
  <update>
    <Tag>pivot1-col11
pivot2-row1-pie</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T10:56:26">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <dataField fieldName="PacketNo" />
  <update>
    <Tag>pivot1-val1-count
pivot2-val1-count</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T11:00:17">
  <controller name="ConsignmentUsage" />
  <view id="grid1" />
  <rename>gridEntered</rename>
</c><c y="NodeSet" t="2016-05-20T11:00:39">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <view id="gridEntered" />
    <dataField fieldName="ProductCategoryName" />
  </copy>
</c><c y="NodeSet" t="2016-05-20T11:00:43">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ProductCategoryCode" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
    <dataField fieldName="ProductCategoryName" />
  </move>
</c><c y="NodeSet" t="2016-05-20T11:00:52">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ProductCategoryCode" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-20T11:01:20">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="PacketNo" />
  <update>
    <Tag>pivot1-val1-count
pivot2-val1-count</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T11:03:14">
  <controller name="ConsignmentUsage" />
  <view id="gridEntered" />
  <update>
    <Label>Usage Entered</Label>
  </update>
</c><c y="NodeSet" t="2016-05-20T11:03:21">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <update>
    <Label>Usage Sent</Label>
  </update>
</c><c y="NodeSet" t="2016-05-20T11:03:33">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <update>
    <Label>Usage Errors</Label>
  </update>
</c><c y="NodeSet" t="2016-05-20T11:04:17">
  <controller name="ConsignmentUsage" />
  <view id="gridErrors" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>Pivot1-row1-column-date</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T11:04:37">
  <controller name="ConsignmentUsage" />
  <view id="gridErrors" />
  <dataField fieldName="PacketNo" />
  <update>
    <Tag>Pivot1-val1-count</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T11:05:43">
  <controller name="ConsignmentUsage" />
  <view id="gridErrors" />
  <update>
    <Label>Usage Errors</Label>
  </update>
</c><c y="NodeSet" t="2016-05-20T11:06:10">
  <controller name="ConsignmentUsage" />
  <view id="gridErrors" />
  <dataField fieldName="PacketNo" />
  <update>
    <Tag>pivot1-val1-count</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-20T11:06:21">
  <controller name="ConsignmentUsage" />
  <view id="gridErrors" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <Tag>pivot1-row1-column-date</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-23T08:59:49">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <update>
    <Label>Usage Sent</Label>
  </update>
</c><c y="NodeSet" t="2016-05-23T09:02:03">
  <controller name="ConsignmentUsage" />
  <rule id="r104" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = NULL
	
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'
	  SET @BusinessRules_PreventDefault = 1
    END
	
	SELECT
	  @ExistingPacketNo = PacketNo,
	  @ExistingProductID = tConsignmentStock.ProductID,
	  @ExistingProductName = ProductName
    FROM
	  	tConsignmentStock
	INNER JOIN
		tProduct
	ON
		tProduct.ProductID = tConsignmentStock.ProductID
    WHERE
	  tConsignmentStock.CustomerID = @CustomerID and
	  tConsignmentStock.PacketNo = @PacketNo	  
  
    IF @ExistingPacketNo IS NULL and @Success = 1
	BEGIN	  	   
	  SET @Errors = 'Packet is not on consignment'	  
	END
	ELSE
	BEGIN
		SET @ProductID = @ExistingProductID
		SET @ProductName = @ExistingProductName
		SET @InStock = 1
    END	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-23T09:02:16">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  	SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-23T11:23:30">
  <controller name="Users" />
  <view id="grid1" />
  <update>
    <Label>Users Test</Label>
  </update>
</c><c y="NodeSet" t="2016-05-23T11:24:03">
  <controller name="Users" />
  <view id="grid1" />
  <update>
    <Label>Users</Label>
  </update>
</c><c y="NodeSet" t="2016-05-24T09:07:42">
  <controller name="Users" />
  <clone />
</c><c y="NodeSet" t="2016-05-24T09:07:59">
  <controller name="Users1" />
  <rename>Me</rename>
</c><c y="NodeSet" t="2016-05-24T09:08:59">
  <controller name="Me" />
  <view id="createForm1" />
  <delete />
</c><c y="NodeSet" t="2016-05-24T09:09:03">
  <controller name="Me" />
  <view id="grid1" />
  <delete />
</c><c y="NodeSet" t="2016-05-24T09:09:43">
  <controller name="Me" />
  <view id="editForm1" />
  <update>
    <FilterExpression>UserID = @BusinessRules_UserID</FilterExpression>
  </update>
</c><c y="NodeSet" t="2016-05-24T09:12:05">
  <controller name="Me" />
  <view id="editForm1" />
  <update>
    <FilterExpression>UserID = @BusinessRules_UserId</FilterExpression>
  </update>
</c><c y="NodeSet" t="2016-05-24T09:13:16">
  <controller name="Me" />
  <actionGroup id="ag2" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-24T09:14:02">
  <controller name="Me" />
  <view id="editForm1" />
  <dataField fieldName="UserName" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-24T09:14:13">
  <controller name="Me" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="IsApproved" />
  <delete />
</c><c y="NodeSet" t="2016-05-24T09:14:17">
  <controller name="Me" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="IsLockedOut" />
  <delete />
</c><c y="NodeSet" t="2016-05-24T09:14:23">
  <controller name="Me" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="Comment" />
  <delete />
</c><c y="NodeSet" t="2016-05-24T09:14:33">
  <controller name="Me" />
  <view id="editForm1" />
  <dataField fieldName="CustomerID" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-24T09:19:30">
  <controller name="Me" />
  <view id="editForm1" />
  <update>
    <Label>Review My Details</Label>
  </update>
</c><c y="NodeSet" t="2016-05-24T09:21:17">
  <controller name="Me" />
  <actionGroup id="ag2" />
  <action id="a5" />
  <delete />
</c><c y="NodeSet" t="2016-05-24T09:21:48">
  <controller name="Me" />
  <view id="editForm1" />
  <dataField fieldName="PasswordQuestion" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-24T09:21:55">
  <controller name="Me" />
  <view id="editForm1" />
  <dataField fieldName="PasswordAnswer" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-24T09:22:20">
  <controller name="Users" />
  <view id="editForm1" />
  <dataField fieldName="PasswordQuestion" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-24T09:22:26">
  <controller name="Users" />
  <view id="editForm1" />
  <dataField fieldName="PasswordAnswer" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-24T09:22:38">
  <controller name="Users" />
  <view id="createForm1" />
  <dataField fieldName="PasswordQuestion" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-24T09:22:46">
  <controller name="Users" />
  <view id="createForm1" />
  <dataField fieldName="PasswordAnswer" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-24T09:24:27">
  <controller name="Me" />
  <actionGroup id="ag3" />
  <delete />
</c><c y="NodeSet" t="2016-05-24T09:24:36">
  <controller name="Me" />
  <actionGroup id="ag4" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-24T16:38:48">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="Lineal" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="grid1" />
    <dataField fieldName="TransferDocketNo" />
  </move>
</c><c y="NodeSet" t="2016-05-24T16:38:52">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="TransferDocketNo" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="grid1" />
    <dataField fieldName="TransferDate" />
  </move>
</c><c y="NodeSet" t="2016-05-24T16:38:57">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="TransferDate" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="grid1" />
    <dataField fieldName="Price" />
  </move>
</c><c y="NodeSet" t="2016-05-24T16:39:00">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="Price" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="grid1" />
    <dataField fieldName="PriceUom" />
  </move>
</c><c y="NodeSet" t="2016-05-24T16:39:32">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Transfer Docket</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-24T16:41:48">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c5" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="TransferDocketNo" />
  </move>
</c><c y="NodeSet" t="2016-05-24T16:41:50">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c5" />
  <dataField fieldName="TransferDocketNo" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="TransferDate" />
  </move>
</c><c y="NodeSet" t="2016-05-24T16:42:07">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c3" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c5" />
  </move>
</c><c y="NodeSet" t="2016-05-24T16:42:22">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c1" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c5" />
  </move>
</c><c y="NodeSet" t="2016-05-24T16:42:39">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Pricing</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-24T16:42:45">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c5" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c6" />
  </move>
</c><c y="NodeSet" t="2016-05-24T16:42:47">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c6" />
  <move>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="Price" />
  </move>
</c><c y="NodeSet" t="2016-05-24T16:42:49">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c6" />
  <dataField fieldName="Price" />
  <after>
    <controller name="ConsignmentStock" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="PriceUom" />
  </after>
</c><c y="NodeSet" t="2016-05-24T16:43:13">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c2" />
  <update>
    <NewColumn>true</NewColumn>
  </update>
</c><c y="NodeSet" t="2016-05-24T16:43:18">
  <controller name="ConsignmentStock" />
  <view id="editForm1" />
  <category id="c4" />
  <update>
    <NewColumn>false</NewColumn>
  </update>
</c><c y="NodeSet" t="2016-05-24T17:01:12">
  <controller name="ConsignmentStock" />
  <field name="TransferDate" />
  <update>
    <DataFormatString>D</DataFormatString>
  </update>
</c><c y="NodeSet" t="2016-05-24T17:01:37">
  <controller name="ConsignmentStock" />
  <field name="TransferDocketNo" />
  <update>
    <Label>Docket No</Label>
  </update>
</c><c y="NodeSet" t="2016-05-24T17:03:55">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <dataField fieldName="PacketNo" />
  <update>
    <Columns>10</Columns>
    <Tag>pivot1-val1-count
pivot2-val1-count
pivot3-val1-count
</Tag>
  </update>
</c><c y="NodeSet" t="2016-05-24T17:08:28">
  <controller name="ConsignmentStock" />
  <field name="Price" />
  <update>
    <Roles>Consignment Pricing</Roles>
  </update>
</c><c y="NodeSet" t="2016-05-24T17:09:59">
  <controller name="ConsignmentStock" />
  <field name="Price" />
  <update>
    <Roles>Consignment Pricing,Admins</Roles>
  </update>
</c><c y="NodeSet" t="2016-05-25T08:05:42">
  <controller name="Company" />
  <view id="grid1" />
  <dataField fieldName="CreatedBy" />
  <move>
    <controller name="Company" />
    <view id="grid1" />
    <dataField fieldName="LinkedServerName" />
  </move>
</c><c y="NodeSet" t="2016-05-25T08:05:47">
  <controller name="Company" />
  <view id="grid1" />
  <dataField fieldName="LinkedServerName" />
  <move>
    <controller name="Company" />
    <view id="grid1" />
    <dataField fieldName="DatabaseName" />
  </move>
</c><c y="NodeSet" t="2016-05-25T08:11:33">
  <controller name="Company" />
  <view id="grid1" />
  <dataField fieldName="DatabaseName" />
  <move>
    <controller name="Company" />
    <view id="grid1" />
    <dataField fieldName="CreatedBy" />
  </move>
</c><c y="NodeSet" t="2016-05-25T11:11:01">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  	SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	  
	  INSERT INTO tConsignmentUsage
		   ([CustomerID]
           ,[PacketNo]
           ,[ProductID]
           ,[ConsumedOn]
           ,[InStock]
           ,[Errors]
           ,[SentOn]
           ,[CreatedBy]
           ,[CreatedOn]
           ,[ModifiedBy]
           ,[ModifiedOn])           
		SELECT
			@customerID
			@PacketNo,
			@ProductID,
			@ConsumedOn,
			@InStock,
			@Errors,
			@BusinessRules_UserName,
			GetDate(),
			@BusinessRules_UserName,
			GetDate()
		
		SET @LastPacketNo = @PacketNo
		SET @LastError = @Errors
		SET @PacketNo = null
		SET @Errors = null
	  	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T11:16:25">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  	SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	  
	  INSERT INTO tConsignmentUsage
		   ([CustomerID]
           ,[PacketNo]
           ,[ProductID]
           ,[ConsumedOn]
           ,[InStock]
           ,[Errors]
           ,[SentOn]
           ,[CreatedBy]
           ,[CreatedOn]
           ,[ModifiedBy]
           ,[ModifiedOn])           
		SELECT
			@CustomerID
			@PacketNo,
			@ProductID,
			@ConsumedOn,
			@InStock,
			@Errors,
			@BusinessRules_UserName,
			GetDate(),
			@BusinessRules_UserName,
			GetDate()
		
		--SET @LastPacketNo = @PacketNo
		--SET @LastError = @Errors
		SET @PacketNo = ''
		SET @Errors = ''
	  	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T11:18:18">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  	SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	  
	  INSERT INTO tConsignmentUsage
		   ([CustomerID]
           ,[PacketNo]
           ,[ProductID]
           ,[ConsumedOn]
           ,[InStock]
           ,[Errors]
           ,[SentOn]
           ,[CreatedBy]
           ,[CreatedOn]
           ,[ModifiedBy]
           ,[ModifiedOn])           
		SELECT
			@CustomerID
			@PacketNo,
			@ProductID,
			@ConsumedOn,
			@InStock,
			@Errors,
			'admin' --@BusinessRules_UserName,
			GetDate(),
			'admin' --@BusinessRules_UserName,
			GetDate()
		
		--SET @LastPacketNo = @PacketNo
		--SET @LastError = @Errors
		--SET @PacketNo = ''
		--SET @Errors = ''
	  	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T11:19:20">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  	SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	  
	  INSERT INTO tConsignmentUsage
		   ([CustomerID]
           ,[PacketNo]
           ,[ProductID]
           ,[ConsumedOn]
           ,[InStock]
           ,[Errors]
           ,[SentOn]
           ,[CreatedBy]
           ,[CreatedOn]
           ,[ModifiedBy]
           ,[ModifiedOn])           
		SELECT
			@CustomerID
			@PacketNo,
			@ProductID,
			@ConsumedOn,
			@InStock,
			@Errors,
			'admin', --@BusinessRules_UserName,
			GetDate(),
			'admin', --@BusinessRules_UserName,
			GetDate()
		
		--SET @LastPacketNo = @PacketNo
		--SET @LastError = @Errors
		--SET @PacketNo = ''
		--SET @Errors = ''
	  	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T11:20:50">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  	SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	  
	  INSERT INTO tConsignmentUsage
		   ([CustomerID]
           ,[PacketNo]
           ,[ProductID]
           ,[ConsumedOn]
           ,[InStock]
           ,[Errors]
           ,[SentOn]
           ,[CreatedBy]
           ,[CreatedOn]
           ,[ModifiedBy]
           ,[ModifiedOn])           
		SELECT
			@CustomerID,
			@PacketNo,
			@ProductID,
			@ConsumedOn,
			@InStock,
			@Errors,
			'admin', --@BusinessRules_UserName,
			GetDate(),
			'admin', --@BusinessRules_UserName,
			GetDate()
		
		--SET @LastPacketNo = @PacketNo
		--SET @LastError = @Errors
		--SET @PacketNo = ''
		--SET @Errors = ''
	  	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T11:21:57">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  	SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	  
	  INSERT INTO tConsignmentUsage
		   ([CustomerID]
           ,[PacketNo]
           ,[ProductID]
           ,[ConsumedOn]
           ,[InStock]
           ,[Errors]
           ,[SentOn]
           ,[CreatedBy]
           ,[CreatedOn]
           ,[ModifiedBy]
           ,[ModifiedOn])           
		SELECT
			@CustomerID,
			@PacketNo,
			@ProductID,
			@ConsumedOn,
			@InStock,
			@Errors,
			null,
			'admin', --@BusinessRules_UserName,
			GetDate(),
			'admin', --@BusinessRules_UserName,
			GetDate()
		
		--SET @LastPacketNo = @PacketNo
		--SET @LastError = @Errors
		--SET @PacketNo = ''
		--SET @Errors = ''
	  	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T11:23:22">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  	SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	  
	  INSERT INTO tConsignmentUsage
		   ([CustomerID]
           ,[PacketNo]
           ,[ProductID]
           ,[ConsumedOn]
           ,[InStock]
           ,[Errors]
           ,[SentOn]
           ,[CreatedBy]
           ,[CreatedOn]
           ,[ModifiedBy]
           ,[ModifiedOn])           
		SELECT
			@CustomerID,
			@PacketNo,
			@ProductID,
			@ConsumedOn,
			@InStock,
			@Errors,
			null,
			'admin', --@BusinessRules_UserName,
			GetDate(),
			'admin', --@BusinessRules_UserName,
			GetDate()
		
		--SET @LastPacketNo = @PacketNo
		--SET @LastError = @Errors
		SET @PacketNo = ''
		SET @Errors = ''
		SET @InStock = null
	  	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T11:25:32">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  	SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	  
	  INSERT INTO tConsignmentUsage
		   ([CustomerID]
           ,[PacketNo]
           ,[ProductID]
           ,[ConsumedOn]
           ,[InStock]
           ,[Errors]
           ,[SentOn]
           ,[CreatedBy]
           ,[CreatedOn]
           ,[ModifiedBy]
           ,[ModifiedOn])           
		SELECT
			@CustomerID,
			@PacketNo,
			@ProductID,
			@ConsumedOn,
			@InStock,
			@Errors,
			null,
			'admin', --@BusinessRules_UserName,
			GetDate(),
			'admin', --@BusinessRules_UserName,
			GetDate()
		
		SET @LastPacketNo = @PacketNo
		--SET @LastError = @Errors
		SET @PacketNo = ''
		SET @Errors = ''
		SET @InStock = null
	  	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T11:26:02">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="LastPacketNo" />
  </copy>
</c><c y="NodeSet" t="2016-05-25T11:27:16">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="LastPacketNo" />
  <update>
    <Rows />
  </update>
</c><c y="NodeSet" t="2016-05-25T11:28:00">
  <controller name="ConsignmentUsage" />
  <field name="LastPacketNo" />
  <update>
    <Length>20</Length>
  </update>
</c><c y="NodeSet" t="2016-05-25T11:29:58">
  <controller name="ConsignmentUsage" />
  <field name="LastError" />
  <update>
    <Length>100</Length>
  </update>
</c><c y="NodeSet" t="2016-05-25T11:30:25">
  <controller name="ConsignmentUsage" />
  <insert type="field">
    <Name>LastProductName</Name>
    <Type>String</Type>
    <Length>100</Length>
    <AllowNulls>true</AllowNulls>
    <IsPrimaryKey>false</IsPrimaryKey>
    <Computed>false</Computed>
    <Calculated>false</Calculated>
    <CausesCalculate>false</CausesCalculate>
    <OnDemand>false</OnDemand>
    <Hidden>false</Hidden>
    <Label>Last Product Name</Label>
    <ReadOnly>false</ReadOnly>
    <ShowInSummary>false</ShowInSummary>
    <HtmlEncode>false</HtmlEncode>
    <FormatOnClient>true</FormatOnClient>
    <SearchOnStart>false</SearchOnStart>
    <AutoSelect>false</AutoSelect>
    <ItemsLetters>false</ItemsLetters>
    <AllowQBE>false</AllowQBE>
    <AllowSorting>false</AllowSorting>
    <AllowLEV>false</AllowLEV>
  </insert>
</c><c y="NodeSet" t="2016-05-25T11:30:27">
  <controller name="ConsignmentUsage" />
  <field name="LastError" />
  <move>
    <controller name="ConsignmentUsage" />
    <field name="LastProductName" />
  </move>
</c><c y="NodeSet" t="2016-05-25T11:30:47">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="LastProductName" />
  </copy>
</c><c y="NodeSet" t="2016-05-25T11:30:47">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="LastError" />
  </copy>
</c><c y="NodeSet" t="2016-05-25T11:30:51">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="LastPacketNo" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="LastProductName" />
  </move>
</c><c y="NodeSet" t="2016-05-25T11:31:19">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <insert type="category">
    <HeaderText>Last Entered</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-25T11:31:22">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c3" />
  </move>
</c><c y="NodeSet" t="2016-05-25T11:31:25">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c3" />
  </move>
</c><c y="NodeSet" t="2016-05-25T11:31:28">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c3" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="LastPacketNo" />
  </move>
</c><c y="NodeSet" t="2016-05-25T11:31:30">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c3" />
  <dataField fieldName="LastPacketNo" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="LastProductName" />
  </move>
</c><c y="NodeSet" t="2016-05-25T11:31:33">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c3" />
  <dataField fieldName="LastProductName" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="LastError" />
  </move>
</c><c y="NodeSet" t="2016-05-25T11:31:48">
  <controller name="ConsignmentUsage" />
  <field name="LastPacketNo" />
  <update>
    <Label>Packet No</Label>
  </update>
</c><c y="NodeSet" t="2016-05-25T11:32:02">
  <controller name="ConsignmentUsage" />
  <field name="LastPacketNo" />
  <update>
    <Label>Last Packet No</Label>
  </update>
</c><c y="NodeSet" t="2016-05-25T11:32:10">
  <controller name="ConsignmentUsage" />
  <field name="LastProductName" />
  <update>
    <Label>Last Product</Label>
  </update>
</c><c y="NodeSet" t="2016-05-25T11:33:53">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  	SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ExistingProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	  
	  INSERT INTO tConsignmentUsage
		   ([CustomerID]
           ,[PacketNo]
           ,[ProductID]
           ,[ConsumedOn]
           ,[InStock]
           ,[Errors]
           ,[SentOn]
           ,[CreatedBy]
           ,[CreatedOn]
           ,[ModifiedBy]
           ,[ModifiedOn])           
		SELECT
			@CustomerID,
			@PacketNo,
			@ProductID,
			@ConsumedOn,
			@InStock,
			@Errors,
			null,
			'admin', --@BusinessRules_UserName,
			GetDate(),
			'admin', --@BusinessRules_UserName,
			GetDate()
		
		SET @LastPacketNo = @PacketNo
		SET @LastError = @Errors
		SET @LastProductName = @ExistingProductName
		SET @PacketNo = ''
		SET @Errors = ''
		SET @InStock = null
	  	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T11:34:50">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="LastProductName" />
  <update>
    <Rows />
  </update>
</c><c y="NodeSet" t="2016-05-25T11:34:54">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="LastError" />
  <update>
    <Rows />
  </update>
</c><c y="NodeSet" t="2016-05-25T11:54:20">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int  
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
  
    IF @PacketCount &gt; 0 
	BEGIN
	  SET @Success = 0
	  SET @Result_Focus = 'PacketNo, Packet already scanned.'	  
    END
	
	IF @Success = 1
	BEGIN
	  	SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ExistingProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	  
	  INSERT INTO tConsignmentUsage
		   ([CustomerID]
           ,[PacketNo]
           ,[ProductID]
           ,[ConsumedOn]
           ,[InStock]
           ,[Errors]
           ,[SentOn]
           ,[CreatedBy]
           ,[CreatedOn]
           ,[ModifiedBy]
           ,[ModifiedOn])           
		SELECT
			@CustomerID,
			@PacketNo,
			@ProductID,
			@ConsumedOn,
			@InStock,
			@Errors,
			null,
			'admin', --@BusinessRules_UserName,
			GetDate(),
			'admin', --@BusinessRules_UserName,
			GetDate()
		
		SET @LastPacketNo = @PacketNo
		SET @LastError = @Errors
		SET @LastProductName = @ExistingProductName
		SET @PacketNo = null
		SET @Errors = null
		SET @InStock = 0
		SET @ProductID = null
		SET @ProductName = null
	  	
	END
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:01:40">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <insert type="action">
    <CommandName>Insert</CommandName>
    <CommandArgument>CANCEL</CommandArgument>
    <HeaderText>Cancel</HeaderText>
    <CausesValidation>true</CausesValidation>
    <WhenLastCommandName>New</WhenLastCommandName>
  </insert>
</c><c y="NodeSet" t="2016-05-25T12:04:16">
  <controller name="ConsignmentUsage" />
  <insert type="rule">
    <Type>Sql</Type>
    <CommandName>Insert</CommandName>
    <CommandArgument>CANCEL</CommandArgument>
    <Phase>Before</Phase>
    <Script>SET @BusinessRules_PreventDefault = 1</Script>
  </insert>
</c><c y="NodeSet" t="2016-05-25T12:04:55">
  <controller name="ConsignmentUsage" />
  <rule id="r104" />
  <delete />
</c><c y="NodeSet" t="2016-05-25T12:06:12">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-25T12:06:16">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-25T12:06:21">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a9" />
  <delete />
</c><c y="NodeSet" t="2016-05-25T12:06:25">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a10" />
  <delete />
</c><c y="NodeSet" t="2016-05-25T12:06:38">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a13" />
  <delete />
</c><c y="NodeSet" t="2016-05-25T12:07:57">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a1" />
  <delete />
</c><c y="NodeSet" t="2016-05-25T12:08:05">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-25T12:15:14">
  <controller name="ConsignmentUsage" />
  <view id="gridEntered" />
  <update>
    <SortExpression>ConsignmentUsageID desc</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:15:36">
  <controller name="ConsignmentUsage" />
  <view id="gridErrors" />
  <update>
    <SortExpression>ConsignmentUsageID desc</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:15:44">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <update>
    <SortExpression>ConsignmentUsageID desc</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:18:37">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag4" />
  <action id="a1" />
  <delete />
</c><c y="NodeSet" t="2016-05-25T12:18:56">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag1" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-25T12:19:20">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a100" />
  <update>
    <HeaderText>OK</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:19:41">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag2" />
  <action id="a100" />
  <update>
    <HeaderText>Close</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:21:06">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c2" />
  <delete />
</c><c y="NodeSet" t="2016-05-25T12:21:12">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c3" />
  <update>
    <NewColumn>true</NewColumn>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:22:59">
  <controller name="ConsignmentUsage" />
  <insert type="rule">
    <Type>JavaScript</Type>
    <CommandName>Calculate</CommandName>
    <Phase>Execute</Phase>
    <Script>document.getElementById('consignmentusage_PacketNo_Input').focus();</Script>
  </insert>
</c><c y="NodeSet" t="2016-05-25T12:27:27">
  <controller name="ConsignmentUsage" />
  <rule id="r103" />
  <delete />
</c><c y="NodeSet" t="2016-05-25T12:28:46">
  <controller name="ConsignmentUsage" />
  <insert type="rule">
    <Type>JavaScript</Type>
    <CommandName>Calculate</CommandName>
    <Phase>Execute</Phase>
    <Script>document.getElementById('consignmentusage_PacketNo_Input').focus();</Script>
  </insert>
</c><c y="NodeSet" t="2016-05-25T12:29:29">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="Errors" />
  </copy>
</c><c y="NodeSet" t="2016-05-25T12:29:29">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="InStock" />
  </copy>
</c><c y="NodeSet" t="2016-05-25T12:29:47">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="InStock" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:29:55">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="Errors" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:31:58">
  <controller name="ConsignmentUsage" />
  <insert type="rule">
    <Type>JavaScript</Type>
    <CommandName>New</CommandName>
    <Phase>After</Phase>
    <Script>document.getElementById('consignmentusage_PacketNo_Input').focus();</Script>
  </insert>
</c><c y="NodeSet" t="2016-05-25T12:33:01">
  <controller name="ConsignmentUsage" />
  <rule id="r104" />
  <delete />
</c><c y="NodeSet" t="2016-05-25T12:33:26">
  <controller name="ConsignmentUsage" />
  <insert type="rule">
    <Type>JavaScript</Type>
    <CommandName>New</CommandName>
    <Phase>Execute</Phase>
    <Script>document.getElementById('consignmentusage_PacketNo_Input').focus();</Script>
  </insert>
</c><c y="NodeSet" t="2016-05-25T12:34:46">
  <controller name="ConsignmentUsage" />
  <rule id="r104" />
  <delete />
</c><c y="NodeSet" t="2016-05-25T12:37:08">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <update>
    <HeaderText>This form is designed for quick entry of packets consumed by scanning or entering packets.  When a packet is scanned or entered the record will be added without the need to clikc an ok button.</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:38:30">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <update>
    <HeaderText>This form is designed for quick entry of packets consumed by scanning or entering packets.  When a packet is scanned or entered the record will be added without the need to click an OK button. </HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:38:56">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c3" />
  <update>
    <Description>Details of the last packet scanned or entered</Description>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:40:08">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="LastPacketNo" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:40:16">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="LastProductName" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:40:25">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="LastError" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:57:03">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyScannedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
  
    IF @PacketCount &gt; 0 
	BEGIN
	  	  	  
    END
		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ExistingProductName = null
		SET @Errors = 'Packet already consumed'
		SET @InStock = 0
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate()

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:57:46">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyScannedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed'
		SET @InStock = 0
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate()

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T12:59:48">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed'
		SET @InStock = 0
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate()

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:05:06">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), 107, @PreviouslyConsumedOn)
		SET @InStock = 0
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate()

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:06:54">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,107)
		SET @InStock = 0
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate()

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:09:11">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate()

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:17:42">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate()

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:23:20">
  <controller name="ConsignmentUsage" />
  <view id="gridEntered" />
  <dataField fieldName="Lineal" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridEntered" />
    <dataField fieldName="InStock" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:23:20">
  <controller name="ConsignmentUsage" />
  <view id="gridEntered" />
  <dataField fieldName="Lineal" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridEntered" />
    <dataField fieldName="Errors" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:23:20">
  <controller name="ConsignmentUsage" />
  <view id="gridEntered" />
  <dataField fieldName="Lineal" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridEntered" />
    <dataField fieldName="SentOn" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:23:26">
  <controller name="ConsignmentUsage" />
  <view id="gridEntered" />
  <dataField fieldName="Lineal" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridEntered" />
    <dataField fieldName="Price" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:23:26">
  <controller name="ConsignmentUsage" />
  <view id="gridEntered" />
  <dataField fieldName="Lineal" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridEntered" />
    <dataField fieldName="PriceUom" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:23:59">
  <controller name="ConsignmentUsage" />
  <field name="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <field name="Pieces" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:23:59">
  <controller name="ConsignmentUsage" />
  <field name="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <field name="PriceUom" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:23:59">
  <controller name="ConsignmentUsage" />
  <field name="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <field name="Price" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:23:59">
  <controller name="ConsignmentUsage" />
  <field name="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <field name="Lineal" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:23:59">
  <controller name="ConsignmentUsage" />
  <field name="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <field name="Area" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:23:59">
  <controller name="ConsignmentUsage" />
  <field name="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <field name="Cube" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:24:16">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="Cube" />
  </copy>
</c><c y="NodeSet" t="2016-05-25T13:24:16">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="Area" />
  </copy>
</c><c y="NodeSet" t="2016-05-25T13:24:16">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="Lineal" />
  </copy>
</c><c y="NodeSet" t="2016-05-25T13:24:16">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="Price" />
  </copy>
</c><c y="NodeSet" t="2016-05-25T13:24:16">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="PriceUom" />
  </copy>
</c><c y="NodeSet" t="2016-05-25T13:24:16">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="Pieces" />
  </copy>
</c><c y="NodeSet" t="2016-05-25T13:24:24">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
    <dataField fieldName="Pieces" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:24:24">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
    <dataField fieldName="PriceUom" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:24:24">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
    <dataField fieldName="Price" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:24:24">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
    <dataField fieldName="Lineal" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:24:24">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
    <dataField fieldName="Area" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:24:24">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
    <dataField fieldName="Cube" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:25:15">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Measures</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-25T13:25:32">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c4" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="Area" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:25:32">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c4" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="Lineal" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:25:32">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c4" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="Pieces" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:25:32">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c4" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="Cube" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:25:47">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Pricing</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-25T13:25:52">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c5" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="PriceUom" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:25:52">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c5" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="Price" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:26:00">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c5" />
  <after>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c2" />
  </after>
</c><c y="NodeSet" t="2016-05-25T13:26:04">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c5" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c3" />
  </move>
</c><c y="NodeSet" t="2016-05-25T13:26:11">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c5" />
  <update>
    <NewColumn>true</NewColumn>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:26:16">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c3" />
  <update>
    <NewColumn>false</NewColumn>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:26:46">
  <controller name="ConsignmentUsage" />
  <field name="Price" />
  <update>
    <Roles>Consignment Pricing</Roles>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:34:27">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,2)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal
			@ExistingPrice = Price
			@ExistingUOM = PriceUOM
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingPriceUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		  SET @Pieces = @ExistingPieces
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate()

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:34:59">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="Price" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:35:06">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="PriceUom" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:35:14">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="Pieces" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:35:20">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="Cube" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:35:26">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="Area" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:35:32">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="Lineal" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:39:49">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,2)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingPriceUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		  SET @Pieces = @ExistingPieces
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate()

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:44:50">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,2)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		--SET @Pieces = @ExistingPieces
		--SET @Cube = @ExistingCube
		--SET @Area = @ExistingArea
		--SET @Lineal = @ExistingLineal
		--SET @Price = @ExistingPrice
		--SET @PriceUom = @ExistingPriceUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		  SET @Pieces = @ExistingPieces
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate()

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	--SET @Pieces = null
	--SET @Cube = null
	--SET @Area = null
	--SET @Lineal = null
	--SET @Price = null
	--SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:46:03">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,2)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		--SET @Pieces = null
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		--SET @Pieces = @ExistingPieces
		--SET @Cube = @ExistingCube
		--SET @Area = @ExistingArea
		--SET @Lineal = @ExistingLineal
		--SET @Price = @ExistingPrice
		--SET @PriceUom = @ExistingPriceUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		  SET @Pieces = @ExistingPieces
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate()

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	--SET @Pieces = null
	--SET @Cube = null
	--SET @Area = null
	--SET @Lineal = null
	--SET @Price = null
	--SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:46:52">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,2)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		--SET @Pieces = null
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName/*,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM */
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		--SET @Pieces = @ExistingPieces
		--SET @Cube = @ExistingCube
		--SET @Area = @ExistingArea
		--SET @Lineal = @ExistingLineal
		--SET @Price = @ExistingPrice
		--SET @PriceUom = @ExistingPriceUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		  SET @Pieces = @ExistingPieces
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate()

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	--SET @Pieces = null
	--SET @Cube = null
	--SET @Area = null
	--SET @Lineal = null
	--SET @Price = null
	--SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:48:12">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,2)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		--SET @Pieces = null
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName/*,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM */
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		--SET @Pieces = @ExistingPieces
		--SET @Cube = @ExistingCube
		--SET @Area = @ExistingArea
		--SET @Lineal = @ExistingLineal
		--SET @Price = @ExistingPrice
		--SET @PriceUom = @ExistingPriceUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		--SET @Pieces = null
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate()

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	--SET @Pieces = null
	--SET @Cube = null
	--SET @Area = null
	--SET @Lineal = null
	--SET @Price = null
	--SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:49:14">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
/*DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50) */
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		--SET @Pieces = null
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName/*,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM */
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		--SET @Pieces = @ExistingPieces
		--SET @Cube = @ExistingCube
		--SET @Area = @ExistingArea
		--SET @Lineal = @ExistingLineal
		--SET @Price = @ExistingPrice
		--SET @PriceUom = @ExistingPriceUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		--SET @Pieces = null
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate()

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	--SET @Pieces = null
	--SET @Cube = null
	--SET @Area = null
	--SET @Lineal = null
	--SET @Price = null
	--SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:51:18">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
/*DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50) */
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		--SET @Pieces = null
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName/*,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM */
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		--SET @Pieces = @ExistingPieces
		--SET @Cube = @ExistingCube
		--SET @Area = @ExistingArea
		--SET @Lineal = @ExistingLineal
		--SET @Price = @ExistingPrice
		--SET @PriceUom = @ExistingPriceUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		--SET @Pieces = null
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	  END
	END
	  
	/*INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() */

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	--SET @Pieces = null
	--SET @Cube = null
	--SET @Area = null
	--SET @Lineal = null
	--SET @Price = null
	--SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:52:07">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		--SET @Pieces = null
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName/*,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM */
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		--SET @Pieces = @ExistingPieces
		--SET @Cube = @ExistingCube
		--SET @Area = @ExistingArea
		--SET @Lineal = @ExistingLineal
		--SET @Price = @ExistingPrice
		--SET @PriceUom = @ExistingPriceUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		--SET @Pieces = null
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	  END
	END
	  
	/*INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() */

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	--SET @Pieces = null
	--SET @Cube = null
	--SET @Area = null
	--SET @Lineal = null
	--SET @Price = null
	--SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:53:54">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingPriceUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	END
	  
	/*INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() */

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:55:26">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		--SET @Pieces = @ExistingPieces
		--SET @Cube = @ExistingCube
		--SET @Area = @ExistingArea
		--SET @Lineal = @ExistingLineal
		--SET @Price = @ExistingPrice
		--SET @PriceUom = @ExistingPriceUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		--SET @Pieces = null
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	  END
	END
	  
	/*INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() */

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	--SET @Pieces = null
	--SET @Cube = null
	--SET @Area = null
	--SET @Lineal = null
	--SET @Price = null
	--SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:56:15">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		--SET @Pieces = @ExistingPieces
		--SET @Cube = @ExistingCube
		--SET @Area = @ExistingArea
		--SET @Lineal = @ExistingLineal
		--SET @Price = @ExistingPrice
		--SET @PriceUom = @ExistingPriceUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		--SET @Pieces = null
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	  END
	END
	  
	/*INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() */

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	--SET @Pieces = null
	--SET @Cube = null
	--SET @Area = null
	--SET @Lineal = null
	--SET @Price = null
	--SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:57:35">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		--SET @Pieces = null
		--SET @Cube = null
		--SET @Area = null
		--SET @Lineal = null
		--SET @Price = null
		--SET @PriceUom = null
	  END
	END
	  
	/*INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() */

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	--SET @Pieces = null
	--SET @Cube = null
	--SET @Area = null
	--SET @Lineal = null
	--SET @Price = null
	--SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:58:30">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	END
	  
	/*INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() */

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T13:59:11">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		UCASE(@PacketNo),
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T14:00:06">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T14:02:09">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube]
		,[Area]
		,[Lineal]
		,[Price]
		,[PriceUOM]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,
		@Area
		@Lineal,
		@Price,
		@PriceUom,		
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T14:07:10">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		/*,[Cube]
		,[Area]
		,[Lineal]
		,[Price]
		,[PriceUOM] */
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,/*
		@Cube,
		@Area
		@Lineal,
		@Price,
		@PriceUom, */		
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T14:08:07">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube]
		,[Area]
		,[Lineal]
		,[Price]
		,[PriceUOM] */
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,/*
		@Area
		@Lineal,
		@Price,
		@PriceUom, */		
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T14:09:19">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube] /*
		,[Area]
		,[Lineal]
		,[Price]
		,[PriceUOM] */
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,/*
		@Area
		@Lineal,
		@Price,
		@PriceUom, */		
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T14:10:10">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube]
		,[Area]
		,[Lineal] /*
		,[Price]
		,[PriceUOM] */
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,
		@Area
		@Lineal, /*
		@Price,
		@PriceUom, */		
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T14:12:21">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube]
		,[Area]/*
		,[Lineal] 
		,[Price]
		,[PriceUOM] */
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,
		@Area /*
		@Lineal, 
		@Price,
		@PriceUom, */		
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T14:13:29">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube] 
		,[Area]
		,[Lineal] 
		,[Price]
		,[PriceUOM]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,
		@Area,
		@Lineal, 
		@Price,
		@PriceUom, 	
		@InStock,
		@Errors,
		null,
		'admin', --@BusinessRules_UserName,
		GetDate(),
		'admin', --@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T14:14:25">
  <controller name="ConsignmentUsage" />
  <view id="gridEntered" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridEntered" />
    <dataField fieldName="InStock" />
  </move>
</c><c y="NodeSet" t="2016-05-25T14:14:25">
  <controller name="ConsignmentUsage" />
  <view id="gridEntered" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridEntered" />
    <dataField fieldName="Errors" />
  </move>
</c><c y="NodeSet" t="2016-05-25T14:14:25">
  <controller name="ConsignmentUsage" />
  <view id="gridEntered" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridEntered" />
    <dataField fieldName="SentOn" />
  </move>
</c><c y="NodeSet" t="2016-05-25T14:14:37">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
    <dataField fieldName="InStock" />
  </move>
</c><c y="NodeSet" t="2016-05-25T14:14:37">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
    <dataField fieldName="Errors" />
  </move>
</c><c y="NodeSet" t="2016-05-25T14:14:37">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
    <dataField fieldName="SentOn" />
  </move>
</c><c y="NodeSet" t="2016-05-25T14:15:08">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0
		SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube] 
		,[Area]
		,[Lineal] 
		,[Price]
		,[PriceUOM]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,
		@Area,
		@Lineal, 
		@Price,
		@PriceUom, 	
		@InStock,
		@Errors,
		null,
		@BusinessRules_UserName,
		GetDate(),
		@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-25T14:20:30">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0		
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		  SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
		
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube] 
		,[Area]
		,[Lineal] 
		,[Price]
		,[PriceUOM]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,
		@Area,
		@Lineal, 
		@Price,
		@PriceUom, 	
		@InStock,
		@Errors,
		null,
		@BusinessRules_UserName,
		GetDate(),
		@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-05-26T14:23:26">
  <controller name="Me" />
  <view id="editForm1" />
  <category id="c4" />
  <dataField fieldName="CustomerID" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:23:45">
  <controller name="Me" />
  <view id="editForm1" />
  <category id="c4" />
  <copy>
    <controller name="Me" />
    <field name="CustomerName" />
  </copy>
</c><c y="NodeSet" t="2016-05-26T14:24:06">
  <controller name="Me" />
  <view id="editForm1" />
  <dataField fieldName="CustomerName" />
  <update>
    <Rows />
    <ReadOnly>true</ReadOnly>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-05-26T14:25:52">
  <controller name="Product" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:25:52">
  <controller name="Product" />
  <actionGroup id="ag1" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:25:52">
  <controller name="Product" />
  <actionGroup id="ag1" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:25:52">
  <controller name="Product" />
  <actionGroup id="ag1" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:25:52">
  <controller name="Product" />
  <actionGroup id="ag1" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:26:00">
  <controller name="Product" />
  <actionGroup id="ag2" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:26:00">
  <controller name="Product" />
  <actionGroup id="ag2" />
  <action id="a1" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:26:07">
  <controller name="Product" />
  <actionGroup id="ag3" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:26:10">
  <controller name="Product" />
  <actionGroup id="ag4" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:26:19">
  <controller name="Product" />
  <actionGroup id="ag5" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:26:19">
  <controller name="Product" />
  <actionGroup id="ag5" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:26:19">
  <controller name="Product" />
  <actionGroup id="ag5" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:26:19">
  <controller name="Product" />
  <actionGroup id="ag5" />
  <action id="a5" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:26:19">
  <controller name="Product" />
  <actionGroup id="ag5" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:26:19">
  <controller name="Product" />
  <actionGroup id="ag5" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:26:19">
  <controller name="Product" />
  <actionGroup id="ag5" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:37:53">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <update>
    <HeaderText>TTTTTT</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-26T14:54:53">
  <controller name="Product" />
  <view id="createForm1" />
  <delete />
</c><c y="NodeSet" t="2016-05-26T14:55:04">
  <controller name="Product" />
  <view id="grid1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-26T14:55:10">
  <controller name="Product" />
  <view id="editForm1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-26T15:15:02">
  <controller name="ConsignmentStock" />
  <view id="grid1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-27T10:15:24">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Data>Exec pConsignmentStockConsume @BusinesRules_UserID
SET @Result_Refresh = 1</Data>
  </update>
</c><c y="NodeSet" t="2016-05-27T10:15:58">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <update>
    <HeaderText>Actions Flat</HeaderText>
  </update>
</c><c y="NodeSet" t="2016-05-27T10:16:32">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Data>Exec pConsignmentStockConsume @BusinesRules_UserId
SET @Result_Refresh = 1</Data>
  </update>
</c><c y="NodeSet" t="2016-05-28T09:21:51">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Data>EXEC	[dbo].[pConsignmentStockConsume] @BusinesRules_UserId

SET @Result_Refresh = 1</Data>
  </update>
</c><c y="NodeSet" t="2016-05-28T09:34:34">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Data>EXEC	[dbo].[pConsignmentStockConsume] @BusinessRules_UserId

SET @Result_Refresh = 1</Data>
  </update>
</c><c y="NodeSet" t="2016-05-28T15:10:41">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <insert type="action">
    <CommandName>SQL</CommandName>
    <CausesValidation>true</CausesValidation>
  </insert>
</c><c y="NodeSet" t="2016-05-28T15:11:34">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a100" />
  <update>
    <Data>[dbo].[pConsignmentStockConsumeGet] 
	@BusinessRules_UserID
	@CustomerID int</Data>
  </update>
</c><c y="NodeSet" t="2016-05-28T15:19:16">
  <controller name="Customer" />
  <insert type="actionGroup">
    <Scope>ActionBar</Scope>
    <HeaderText>Action Flat</HeaderText>
    <Flat>true</Flat>
  </insert>
</c><c y="NodeSet" t="2016-05-28T15:21:01">
  <controller name="Customer" />
  <actionGroup id="ag100" />
  <insert type="action">
    <CommandName>SQL</CommandName>
    <CausesValidation>true</CausesValidation>
    <Data>EXEC [TimberSmartWebPortal].[dbo].[pConsignmentStockConsumeGet] @BusinessRules_UserId, @CustomerID
   </Data>
    <WhenKeySelected>true</WhenKeySelected>
  </insert>
</c><c y="NodeSet" t="2016-05-28T15:21:55">
  <controller name="Customer" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <HeaderText>Get History</HeaderText>
    <Data>EXEC [TimberSmartWebPortal].[dbo].[pConsignmentStockConsumeGet] @BusinessRules_UserId, @CustomerID
   </Data>
  </update>
</c><c y="NodeSet" t="2016-05-28T15:22:10">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a100" />
  <update>
    <HeaderText>Get History</HeaderText>
    <Data>[dbo].[pConsignmentStockConsumeGet] 
	@BusinessRules_UserID
	@CustomerID int</Data>
  </update>
</c><c y="NodeSet" t="2016-05-28T15:22:45">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a100" />
  <update>
    <Data>[dbo].[pConsignmentStockConsumeGet] 
	@BusinessRules_UserId
	@CustomerID int</Data>
  </update>
</c><c y="NodeSet" t="2016-05-28T15:27:50">
  <controller name="Customer" />
  <view id="editForm1" />
  <category id="c1" />
  <copy>
    <controller name="Customer" />
    <field name="CustomerID" />
  </copy>
</c><c y="NodeSet" t="2016-05-28T15:28:01">
  <controller name="Customer" />
  <view id="editForm1" />
  <dataField fieldName="CustomerID" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-05-28T15:30:06">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a100" />
  <update>
    <Data>[dbo].[pConsignmentStockConsumeGet] 
	@BusinessRules_UserId,
	@CustomerID int</Data>
  </update>
</c><c y="NodeSet" t="2016-05-28T15:30:27">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:30:46">
  <controller name="Customer" />
  <actionGroup id="ag3" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:30:53">
  <controller name="Customer" />
  <actionGroup id="ag4" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:31:21">
  <controller name="Customer" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Data>EXEC [TimberSmartWebPortal].[dbo].[pConsignmentStockConsumeGet] @BusinessRules_UserId, @CustomerID
   </Data>
  </update>
</c><c y="NodeSet" t="2016-05-28T15:34:25">
  <controller name="Customer" />
  <actionGroup id="ag1" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:34:26">
  <controller name="Customer" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:34:26">
  <controller name="Customer" />
  <actionGroup id="ag1" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:34:26">
  <controller name="Customer" />
  <actionGroup id="ag1" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:34:36">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a1" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:34:44">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a9" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:34:44">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:34:44">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a13" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:34:44">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a10" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:34:44">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a5" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:34:44">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:34:44">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:34:44">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:34:59">
  <controller name="Customer" />
  <actionGroup id="ag4" />
  <delete />
</c><c y="NodeSet" t="2016-05-28T15:36:30">
  <controller name="Company" />
  <insert type="actionGroup">
    <Scope>ActionBar</Scope>
    <HeaderText>Action Flat</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-28T15:36:35">
  <controller name="Company" />
  <actionGroup id="ag100" />
  <update>
    <Flat>true</Flat>
  </update>
</c><c y="NodeSet" t="2016-05-28T15:38:28">
  <controller name="Company" />
  <actionGroup id="ag100" />
  <insert type="action">
    <CommandName>SQL</CommandName>
    <HeaderText>Get Customers</HeaderText>
    <CausesValidation>true</CausesValidation>
    <Data>EXEC pCustomerGet @CompanyID, @BusinessRules_UserId</Data>
    <WhenKeySelected>true</WhenKeySelected>
  </insert>
</c><c y="NodeSet" t="2016-05-28T15:39:21">
  <controller name="Company" />
  <actionGroup id="ag2" />
  <insert type="action">
    <CommandName>SQL</CommandName>
    <HeaderText>Get Customers</HeaderText>
    <CausesValidation>true</CausesValidation>
    <Data>EXEC pCustomerGet @CompanyID, @BusinessRules_UserId</Data>
  </insert>
</c><c y="NodeSet" t="2016-05-28T15:48:30">
  <controller name="Customer" />
  <actionGroup id="ag2" />
  <action id="a100" />
  <update>
    <Data>[dbo].[pConsignmentStockConsumeGet] 
	@BusinessRules_UserId,
	@CustomerID</Data>
  </update>
</c><c y="NodeSet" t="2016-05-29T10:07:54">
  <controllers />
  <insert type="controller">
    <Name>ConsignmentUsageSend</Name>
    <ConflictDetection>overwriteChanges</ConflictDetection>
  </insert>
</c><c y="NodeSet" t="2016-05-29T10:08:46">
  <controller name="ConsignmentUsageSend" />
  <insert type="field">
    <Name>PurchaseOrderNo</Name>
    <Type>String</Type>
    <AllowNulls>false</AllowNulls>
    <IsPrimaryKey>false</IsPrimaryKey>
    <Computed>false</Computed>
    <Calculated>false</Calculated>
    <CausesCalculate>false</CausesCalculate>
    <OnDemand>false</OnDemand>
    <Hidden>false</Hidden>
    <Label>Purchase Order No</Label>
    <ReadOnly>false</ReadOnly>
    <ShowInSummary>false</ShowInSummary>
    <HtmlEncode>false</HtmlEncode>
    <FormatOnClient>true</FormatOnClient>
    <SearchOnStart>false</SearchOnStart>
    <AutoSelect>false</AutoSelect>
    <ItemsLetters>false</ItemsLetters>
    <AllowQBE>false</AllowQBE>
    <AllowSorting>false</AllowSorting>
    <AllowLEV>false</AllowLEV>
  </insert>
</c><c y="NodeSet" t="2016-05-29T10:11:13">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Data>EXEC	[dbo].[pConsignmentStockConsume] @BusinessRules_UserId

SET @Result_Refresh = 1</Data>
    <Confirmation>_controller=ConsignmentUsageSend
_title=Send Usage
_width=500</Confirmation>
  </update>
</c><c y="NodeSet" t="2016-05-29T10:21:46">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <insert type="action">
    <CommandName>SQL</CommandName>
    <CausesValidation>true</CausesValidation>
    <Data>SELECT 1</Data>
    <WhenLastCommandName>SQL</WhenLastCommandName>
    <WhenLastCommandArgument>Send</WhenLastCommandArgument>
  </insert>
</c><c y="NodeSet" t="2016-05-29T10:22:08">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <CommandArgument>Send</CommandArgument>
    <Data>EXEC	[dbo].[pConsignmentStockConsume] @BusinessRules_UserId

SET @Result_Refresh = 1</Data>
    <Confirmation>_controller=ConsignmentUsageSend
_title=Send Usage
_width=500</Confirmation>
  </update>
</c><c y="NodeSet" t="2016-05-29T10:22:27">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Data>--EXEC	[dbo].[pConsignmentStockConsume] @BusinessRules_UserId

SET @Result_Refresh = 1</Data>
    <Confirmation>_controller=ConsignmentUsageSend
_title=Send Usage
_width=500</Confirmation>
  </update>
</c><c y="NodeSet" t="2016-05-29T10:22:41">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Data>--EXEC	[dbo].[pConsignmentStockConsume] @BusinessRules_UserId

SET @Result_Refresh = 1</Data>
    <Confirmation>_controller=ConsignmentUsageSend
_title=Send Usage
</Confirmation>
  </update>
</c><c y="NodeSet" t="2016-05-29T10:22:50">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a101" />
  <update>
    <Confirmation>_controller=ConsignmentUsageSend
_title=Send Usage</Confirmation>
  </update>
</c><c y="NodeSet" t="2016-05-29T10:24:15">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a101" />
  <update>
    <CommandName>Select</CommandName>
    <CommandArgument>editForm1</CommandArgument>
    <Confirmation>_controller=ConsignmentUsageSend
_title=Send Usage</Confirmation>
  </update>
</c><c y="NodeSet" t="2016-05-29T10:25:20">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a101" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T10:27:58">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <CommandArgument />
    <Data>EXEC	[dbo].[pConsignmentStockConsume] @BusinessRules_UserId, @Parameters_PurchaseOrderNo

SET @Result_Refresh = 1</Data>
    <Confirmation>_controller=ConsignmentUsageSend
_title=Send Usage
</Confirmation>
  </update>
</c><c y="NodeSet" t="2016-05-29T10:28:07">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Data>EXEC	[dbo].[pConsignmentStockConsume] @BusinessRules_UserId, @Parameters_PurchaseOrderNo

SET @Result_Refresh = 1</Data>
    <Confirmation>_controller=ConsignmentUsageSend
_title=Send Usage
</Confirmation>
  </update>
</c><c y="NodeSet" t="2016-05-29T10:28:21">
  <controller name="ConsignmentUsageSend" />
  <field name="PurchaseOrderNo" />
  <update>
    <AllowNulls>true</AllowNulls>
  </update>
</c><c y="NodeSet" t="2016-05-29T10:52:01">
  <controller name="ConsignmentUsageSend" />
  <field name="PurchaseOrderNo" />
  <rename>CustomerRef</rename>
</c><c y="NodeSet" t="2016-05-29T10:52:33">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Data>EXEC	[dbo].[pConsignmentStockConsume] @BusinessRules_UserId, @Parameters_CustomerRef

SET @Result_Refresh = 1</Data>
    <Confirmation>_controller=ConsignmentUsageSend
_title=Send Usage
</Confirmation>
  </update>
</c><c y="NodeSet" t="2016-05-29T10:55:55">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Data>EXEC	[dbo].[pConsignmentStockConsume] @BusinessRules_UserId, 'Patrick'
SET @Result_Refresh = 1</Data>
    <Confirmation />
  </update>
</c><c y="NodeSet" t="2016-05-29T10:58:58">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Data>EXEC	[dbo].[pConsignmentStockConsume] @BusinessRules_UserId, 'Patrick'
SET @Result_Refresh = 1</Data>
    <Confirmation>_controller=ConsignmentUsageSend
_title=Send Usage</Confirmation>
  </update>
</c><c y="NodeSet" t="2016-05-29T10:59:30">
  <controller name="ConsignmentUsage" />
  <actionGroup id="ag100" />
  <action id="a100" />
  <update>
    <Data>EXEC	[dbo].[pConsignmentStockConsume] @BusinessRules_UserId, @Parameters_CustomerRef
SET @Result_Refresh = 1</Data>
    <Confirmation>_controller=ConsignmentUsageSend
_title=Send Usage</Confirmation>
  </update>
</c><c y="NodeSet" t="2016-05-29T11:07:15">
  <controller name="ConsignmentUsage" />
  <view id="gridEntered" />
  <dataField fieldName="ConsignmentPurchaseOrderID" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T11:07:54">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="ConsignmentPurchaseOrderCustomerRef" />
  </copy>
</c><c y="NodeSet" t="2016-05-29T11:07:54">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="ConsignmentPurchaseOrderID" />
  </copy>
</c><c y="NodeSet" t="2016-05-29T11:08:21">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
    <dataField fieldName="ConsignmentPurchaseOrderID" />
  </move>
</c><c y="NodeSet" t="2016-05-29T11:08:25">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="InStock" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T11:08:29">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="Errors" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T11:08:40">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ConsignmentPurchaseOrderID" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
    <dataField fieldName="ConsignmentPurchaseOrderCustomerRef" />
  </move>
</c><c y="NodeSet" t="2016-05-29T11:08:52">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
    <dataField fieldName="Price" />
  </move>
</c><c y="NodeSet" t="2016-05-29T11:08:54">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="Price" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
    <dataField fieldName="PriceUom" />
  </move>
</c><c y="NodeSet" t="2016-05-29T11:11:17">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="ConsignmentPurchaseOrderID" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T11:11:33">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Purchase Order</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-29T11:11:41">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c6" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ConsignmentPurchaseOrderID" />
  </move>
</c><c y="NodeSet" t="2016-05-29T11:11:50">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c6" />
  <dataField fieldName="ConsignmentPurchaseOrderID" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c3" />
    <dataField fieldName="SentOn" />
  </move>
</c><c y="NodeSet" t="2016-05-29T11:12:01">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c6" />
  </move>
</c><c y="NodeSet" t="2016-05-29T11:12:03">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c3" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c6" />
  </move>
</c><c y="NodeSet" t="2016-05-29T11:12:37">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c6" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="ConsignmentPurchaseOrderCustomerRef" />
  </copy>
</c><c y="NodeSet" t="2016-05-29T11:12:39">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <category id="c6" />
  <dataField fieldName="ConsignmentPurchaseOrderID" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="editForm1" />
    <category id="c6" />
    <dataField fieldName="ConsignmentPurchaseOrderCustomerRef" />
  </move>
</c><c y="NodeSet" t="2016-05-29T11:14:30">
  <controller name="ConsignmentUsage" />
  <field name="ConsignmentPurchaseOrderID" />
  <update>
    <ItemsDataTextField>ConsignmentPurchaseOrderID</ItemsDataTextField>
    <ItemsNewDataView />
  </update>
</c><c y="NodeSet" t="2016-05-29T11:15:12">
  <controller name="ConsignmentUsage" />
  <view id="editForm1" />
  <dataField fieldName="ConsignmentPurchaseOrderID" />
  <update>
    <Alias />
  </update>
</c><c y="NodeSet" t="2016-05-29T16:26:56">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag1" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:00">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag1" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:07">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag1" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:07">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag1" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:07">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag1" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:16">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag2" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:16">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag2" />
  <action id="a1" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:24">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag3" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:29">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag4" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:49">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag5" />
  <action id="a6" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:49">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag5" />
  <action id="a7" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:49">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag5" />
  <action id="a8" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:49">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag5" />
  <action id="a5" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:49">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag5" />
  <action id="a2" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:49">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag5" />
  <action id="a3" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:27:49">
  <controller name="ConsignmentPurchaseOrder" />
  <actionGroup id="ag5" />
  <action id="a4" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:28:27">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="createForm1" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:28:58">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="grid1" />
  <update>
    <Label>Consignment Purchase Orders</Label>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-29T16:31:50">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="editForm1" />
  <category id="c1" />
  <update>
    <Description />
  </update>
</c><c y="NodeSet" t="2016-05-29T16:32:03">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="editForm1" />
  <insert type="category">
    <HeaderText>Modified</HeaderText>
  </insert>
</c><c y="NodeSet" t="2016-05-29T16:32:09">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentPurchaseOrder" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ModifiedBy" />
  </move>
</c><c y="NodeSet" t="2016-05-29T16:32:09">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentPurchaseOrder" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ModifiedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-29T16:32:09">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentPurchaseOrder" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="CreatedBy" />
  </move>
</c><c y="NodeSet" t="2016-05-29T16:32:09">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="editForm1" />
  <category id="c2" />
  <move>
    <controller name="ConsignmentPurchaseOrder" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="CreatedOn" />
  </move>
</c><c y="NodeSet" t="2016-05-29T16:32:15">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="editForm1" />
  <category id="c2" />
  <update>
    <NewColumn>true</NewColumn>
  </update>
</c><c y="NodeSet" t="2016-05-29T16:32:56">
  <controller name="ConsignmentPurchaseOrder" />
  <copy>
    <controller name="ConsignmentUsage" />
    <view id="gridSent" />
  </copy>
</c><c y="NodeSet" t="2016-05-29T16:34:17">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="gridSent" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:38:08">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="editForm1" />
  <update>
    <HeaderText />
  </update>
</c><c y="NodeSet" t="2016-05-29T16:47:10">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="grid1" />
  <copy>
    <controller name="ConsignmentPurchaseOrder" />
    <field name="ConsignmentPurchaseOrderID" />
  </copy>
</c><c y="NodeSet" t="2016-05-29T16:47:12">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="grid1" />
  <dataField fieldName="CustomerID" />
  <move>
    <controller name="ConsignmentPurchaseOrder" />
    <view id="grid1" />
    <dataField fieldName="ConsignmentPurchaseOrderID" />
  </move>
</c><c y="NodeSet" t="2016-05-29T16:47:16">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="grid1" />
  <dataField fieldName="CustomerID" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:47:35">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="editForm1" />
  <category id="c1" />
  <copy>
    <controller name="ConsignmentPurchaseOrder" />
    <field name="ConsignmentPurchaseOrderID" />
  </copy>
</c><c y="NodeSet" t="2016-05-29T16:47:38">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="CustomerID" />
  <move>
    <controller name="ConsignmentPurchaseOrder" />
    <view id="editForm1" />
    <category id="c1" />
    <dataField fieldName="ConsignmentPurchaseOrderID" />
  </move>
</c><c y="NodeSet" t="2016-05-29T16:47:42">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="editForm1" />
  <category id="c1" />
  <dataField fieldName="CustomerID" />
  <delete />
</c><c y="NodeSet" t="2016-05-29T16:48:09">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="grid1" />
  <update>
    <SortExpression>ConsignmentPurchaseOrderID desc</SortExpression>
  </update>
</c><c y="NodeSet" t="2016-05-29T16:49:04">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="grid1" />
  <dataField fieldName="ConsignmentPurchaseOrderID" />
  <update>
    <Columns />
  </update>
</c><c y="NodeSet" t="2016-05-29T16:49:10">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="grid1" />
  <dataField fieldName="CustomerRef" />
  <update>
    <Columns>20</Columns>
  </update>
</c><c y="NodeSet" t="2016-05-29T16:49:20">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="grid1" />
  <dataField fieldName="CreatedBy" />
  <update>
    <Columns>15</Columns>
  </update>
</c><c y="NodeSet" t="2016-05-29T16:49:27">
  <controller name="ConsignmentPurchaseOrder" />
  <view id="grid1" />
  <dataField fieldName="ModifiedBy" />
  <update>
    <Columns>15</Columns>
  </update>
</c><c y="NodeSet" t="2016-06-02T20:45:38">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ProductID" />
  <update>
    <Columns>50</Columns>
  </update>
</c><c y="NodeSet" t="2016-06-02T20:46:11">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ProductID" />
  <update>
    <Columns>5</Columns>
  </update>
</c><c y="NodeSet" t="2016-06-02T20:55:57">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <dataField fieldName="ProductID" />
  <update>
    <Columns>100</Columns>
  </update>
</c><c y="NodeSet" t="2016-06-02T20:56:10">
  <controller name="ConsignmentUsage" />
  <view id="gridEntered" />
  <dataField fieldName="ProductID" />
  <update>
    <Columns>100</Columns>
  </update>
</c><c y="NodeSet" t="2016-06-02T20:56:21">
  <controller name="ConsignmentUsage" />
  <view id="gridErrors" />
  <dataField fieldName="ProductID" />
  <update>
    <Columns>100</Columns>
  </update>
</c><c y="NodeSet" t="2016-06-15T08:35:55">
  <controller name="ConsignmentUsage" />
  <view id="gridSent" />
  <update>
    <ReportTemplate>true</ReportTemplate>
  </update>
</c><c y="NodeSet" t="2016-06-15T08:36:08">
  <controller name="ConsignmentUsage" />
  <view id="gridEntered" />
  <update>
    <ReportTemplate>true</ReportTemplate>
  </update>
</c><c y="NodeSet" t="2016-06-15T08:36:17">
  <controller name="ConsignmentUsage" />
  <view id="gridErrors" />
  <update>
    <ReportTemplate>true</ReportTemplate>
  </update>
</c><c y="NodeSet" t="2016-06-30T10:29:30">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>SET @Result_Focus = 'PacketNo, Message'</Script>
  </update>
</c><c y="NodeSet" t="2016-06-30T10:41:26">
  <controller name="ConsignmentUsage" />
  <rule id="r103" />
  <delete />
</c><c y="NodeSet" t="2016-06-30T10:42:33">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0		
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		  SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
		
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube] 
		,[Area]
		,[Lineal] 
		,[Price]
		,[PriceUOM]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,
		@Area,
		@Lineal, 
		@Price,
		@PriceUom, 	
		@InStock,
		@Errors,
		null,
		@BusinessRules_UserName,
		GetDate(),
		@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-06-30T10:45:57">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0		
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		  SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
		
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube] 
		,[Area]
		,[Lineal] 
		,[Price]
		,[PriceUOM]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,
		@Area,
		@Lineal, 
		@Price,
		@PriceUom, 	
		@InStock,
		@Errors,
		null,
		@BusinessRules_UserName,
		GetDate(),
		@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	
	SET @Result_Focus = 'PacketNo'
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-07-01T17:02:03">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="ProductID" />
  <update>
    <TextMode>Static</TextMode>
  </update>
</c><c y="NodeSet" t="2016-07-01T17:04:14">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="ProductID" />
  <update>
    <ReadOnly>true</ReadOnly>
    <TextMode>Text</TextMode>
  </update>
</c><c y="NodeSet" t="2016-07-01T17:07:58">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="ProductID" />
  <update>
    <ReadOnly />
  </update>
</c><c y="NodeSet" t="2016-07-01T17:14:31">
  <controller name="ConsignmentUsage" />
  <field name="PacketNo" />
  <update>
    <CausesCalculate>false</CausesCalculate>
  </update>
</c><c y="NodeSet" t="2016-07-01T17:16:07">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c3" />
  <update>
    <Collapsed>true</Collapsed>
  </update>
</c><c y="NodeSet" t="2016-07-01T17:22:24">
  <controller name="ConsignmentUsage" />
  <field name="PacketNo" />
  <update>
    <CausesCalculate>true</CausesCalculate>
  </update>
</c><c y="NodeSet" t="2016-07-01T17:45:33">
  <controller name="ConsignmentUsage" />
  <insert type="field">
    <Name>Empty</Name>
    <Type>String</Type>
    <AllowNulls>true</AllowNulls>
    <IsPrimaryKey>false</IsPrimaryKey>
    <IsVirtual>false</IsVirtual>
    <Computed>false</Computed>
    <Calculated>false</Calculated>
    <CausesCalculate>false</CausesCalculate>
    <OnDemand>false</OnDemand>
    <Hidden>false</Hidden>
    <Label>Empty</Label>
    <ReadOnly>false</ReadOnly>
    <ShowInSummary>false</ShowInSummary>
    <HtmlEncode>false</HtmlEncode>
    <FormatOnClient>true</FormatOnClient>
    <SearchOnStart>false</SearchOnStart>
    <AutoSelect>false</AutoSelect>
    <ItemsLetters>false</ItemsLetters>
    <AllowQBE>false</AllowQBE>
    <AllowSorting>false</AllowSorting>
    <AllowLEV>false</AllowLEV>
  </insert>
</c><c y="NodeSet" t="2016-07-01T17:45:56">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <copy>
    <controller name="ConsignmentUsage" />
    <field name="Empty" />
  </copy>
</c><c y="NodeSet" t="2016-07-01T17:46:37">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="ProductID" />
  <update>
    <ReadOnly>true</ReadOnly>
  </update>
</c><c y="NodeSet" t="2016-07-01T17:46:43">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="ConsumedOn" />
  <move>
    <controller name="ConsignmentUsage" />
    <view id="createForm1" />
    <category id="c1" />
    <dataField fieldName="Empty" />
  </move>
</c><c y="NodeSet" t="2016-07-01T17:48:11">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <category id="c1" />
  <dataField fieldName="Empty" />
  <delete />
</c><c y="NodeSet" t="2016-07-01T17:48:21">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="ConsumedOn" />
  <update>
    <TextMode>Text</TextMode>
  </update>
</c><c y="NodeSet" t="2016-07-01T17:49:30">
  <controller name="ConsignmentUsage" />
  <view id="createForm1" />
  <dataField fieldName="ProductID" />
  <update>
    <Hidden>true</Hidden>
  </update>
</c><c y="NodeSet" t="2016-07-01T17:59:45">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0		
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		  SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
		
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube] 
		,[Area]
		,[Lineal] 
		,[Price]
		,[PriceUOM]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,
		@Area,
		@Lineal, 
		@Price,
		@PriceUom, 	
		@InStock,
		@Errors,
		null,
		@BusinessRules_UserName,
		GetDate(),
		@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	
	SET @Result_Focus = 'PacketNo'
	
	SET @Result_ShowViewMessage = 'View Message'
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-07-01T18:01:08">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0		
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		  SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
		
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube] 
		,[Area]
		,[Lineal] 
		,[Price]
		,[PriceUOM]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,
		@Area,
		@Lineal, 
		@Price,
		@PriceUom, 	
		@InStock,
		@Errors,
		null,
		@BusinessRules_UserName,
		GetDate(),
		@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	
	SET @Result_Focus = 'PacketNo'
	
	SET @Result_ShowView = 'gridSent'
	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-07-01T18:02:21">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0		
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		  SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
		
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube] 
		,[Area]
		,[Lineal] 
		,[Price]
		,[PriceUOM]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,
		@Area,
		@Lineal, 
		@Price,
		@PriceUom, 	
		@InStock,
		@Errors,
		null,
		@BusinessRules_UserName,
		GetDate(),
		@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	
	SET @Result_Focus = 'PacketNo'

	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-07-01T18:04:18">
  <controller name="ConsignmentUsage" />
  <rule id="r102" />
  <update>
    <Script>SET @BusinessRules_PreventDefault = 1
SET @Return_HighlightFirstRow = 1</Script>
  </update>
</c><c y="NodeSet" t="2016-07-01T18:04:30">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0		
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		  SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
		
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube] 
		,[Area]
		,[Lineal] 
		,[Price]
		,[PriceUOM]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,
		@Area,
		@Lineal, 
		@Price,
		@PriceUom, 	
		@InStock,
		@Errors,
		null,
		@BusinessRules_UserName,
		GetDate(),
		@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	
	SET @Result_Focus = 'PacketNo'

	  	
	
	
END</Script>
  </update>
</c><c y="NodeSet" t="2016-07-01T18:04:44">
  <controller name="ConsignmentUsage" />
  <rule id="r102" />
  <update>
    <Script>SET @BusinessRules_PreventDefault = 1
SET @Result_HighlightFirstRow = 1</Script>
  </update>
</c><c y="NodeSet" t="2016-07-01T18:06:01">
  <controller name="ConsignmentUsage" />
  <rule id="r102" />
  <update>
    <Script>SET @BusinessRules_PreventDefault = 1
</Script>
  </update>
</c><c y="NodeSet" t="2016-07-01T18:12:04">
  <controller name="ConsignmentUsage" />
  <rule id="r101" />
  <update>
    <Script>DECLARE @ExistingPacketNo nvarchar(50)
DECLARE @ExistingProductID int
DECLARE @ExistingProductName nvarchar(100)
DECLARE @ExistingPieces int
DECLARE @ExistingCube decimal(18,3)
DECLARE @ExistingArea decimal(18,3)
DECLARE @ExistingLineal decimal(18,3)
DECLARE @ExistingPrice decimal(18,2)
DECLARE @ExistingUOM nvarchar(50)
DECLARE @Success as bit
DECLARE @PacketCount as int 
DECLARE @PreviouslyConsumedOn date
BEGIN
    SET @Success = 1
	SET @Errors = null
	SELECT
	  @PacketCount = count(*),
	  @PreviouslyConsumedOn = min(ConsumedOn)
    FROM
	  tConsignmentUsage
    WHERE
	  tConsignmentUsage.CustomerID = @CustomerID and
	  tConsignmentUsage.PacketNo = @PacketNo and 
	  tConsignmentUsage.ConsignmentUsageID &lt;&gt; ISNULL(@ConsignmentUsageID,0)
     		
	IF @PacketCount &gt; 0
	BEGIN			
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet already consumed on ' + Convert(nvarchar(30), @PreviouslyConsumedOn,103)
		SET @InStock = 0
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	END
	ELSE
	BEGIN	
		SELECT
			@ExistingPacketNo = PacketNo,
			@ExistingProductID = tConsignmentStock.ProductID,
			@ExistingProductName = ProductName,
			@ExistingPieces = Pieces,
			@ExistingCube = Cube,			
			@ExistingArea = Area,
			@ExistingLineal = Lineal,
			@ExistingPrice = Price,
			@ExistingUOM = PriceUOM 
	  	FROM
			tConsignmentStock
		INNER JOIN
			tProduct
		ON
			tProduct.ProductID = tConsignmentStock.ProductID		
	  WHERE
		tConsignmentStock.CustomerID = @CustomerID and
		tConsignmentStock.PacketNo = @PacketNo	  

	  IF @ExistingPacketNo IS NULL 
	  BEGIN	  	   
		SET @ProductID = null
		SET @ProductName = null
		SET @Errors = 'Packet is not on consignment'
		SET @InStock = 0		
		SET @Pieces = null
		SET @Cube = null
		SET @Area = null
		SET @Lineal = null
		SET @Price = null
		SET @PriceUom = null
	  END
	  ELSE
	  BEGIN
		  SET @ProductID = @ExistingProductID
		  SET @ProductName = @ExistingProductName
		  SET @InStock = 1
		  SET @Errors = null
		  SET @Pieces = @ExistingPieces
		SET @Cube = @ExistingCube
		SET @Area = @ExistingArea
		SET @Lineal = @ExistingLineal
		SET @Price = @ExistingPrice
		SET @PriceUom = @ExistingUOM
		
	  END
	END
	  
	INSERT INTO tConsignmentUsage
		([CustomerID]
		,[PacketNo]
		,[ProductID]
		,[ConsumedOn]
		,[Pieces]
		,[Cube] 
		,[Area]
		,[Lineal] 
		,[Price]
		,[PriceUOM]
		,[InStock]
		,[Errors]
		,[SentOn]
		,[CreatedBy]
		,[CreatedOn]
		,[ModifiedBy]
		,[ModifiedOn])           
	SELECT
		@CustomerID,
		@PacketNo,
		@ProductID,
		@ConsumedOn,
		@Pieces,
		@Cube,
		@Area,
		@Lineal, 
		@Price,
		@PriceUom, 	
		@InStock,
		@Errors,
		null,
		@BusinessRules_UserName,
		GetDate(),
		@BusinessRules_UserName,
		GetDate() 

	SET @LastPacketNo = @PacketNo
	SET @LastError = @Errors
	SET @LastProductName = @ProductName
	SET @PacketNo = null
	SET @Errors = null
	SET @InStock = 0
	SET @ProductID = null
	SET @ProductName = null
	SET @Pieces = null
	SET @Cube = null
	SET @Area = null
	SET @Lineal = null
	SET @Price = null
	SET @PriceUom = null
	SET @ConsumedOn = GetDate()	
	
	SET @Result_Focus = 'PacketNo'

	  	
	
	
END</Script>
  </update>
</c></log>